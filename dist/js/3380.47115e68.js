"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[3380],{3380:function(t,a,e){e.r(a),e.d(a,{default:function(){return F}});var o=e(6768),n=e(4232);const l={class:"h-100 w-100 vstack overflow-auto p-2"},s={class:"row g-3 mb-3 d-flex mb-5"},d={class:"col-md-6"},r={class:"card shadow-sm"},i={class:"card-body hstack align-items-start p-4 gap-2"},c={class:"vstack"},u={class:"card h-100 shadow-sm"},v={class:"card-body vstack justify-content-between"},k={class:"mb-4"},b={class:"hstack"},h={class:"ms-auto"},m={class:"me-2 fs-1"},p={key:0,class:"small text-success"},L={key:1,class:"small text-danger"},y={key:2,class:"small text-muted"},g={class:"row g-3 mb-5 d-flex"},w={class:"col-md-4"},_={class:"card shadow-sm"},f={class:"card-body"},C={class:"table table-striped table-hover mb-0"},A={class:"col-md-8"},I={class:"card shadow-sm"},B={class:"card-body"},x={class:"table table-striped table-hover mb-0"};function E(t,a,e,E,j,V){const D=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.Lk)("div",s,[(0,o.Lk)("div",d,[(0,o.Lk)("div",r,[(0,o.Lk)("div",i,[a[1]||(a[1]=(0,o.Lk)("div",{class:"text-bg-success p-2 me-3 rounded"},[(0,o.Lk)("i",{class:"bi bi-buildings display-3"})],-1)),(0,o.Lk)("div",c,[(0,o.Lk)("h3",null,(0,n.v_)(j.info?.librarian?.section?.branch?.name||"Loading..."),1),(0,o.Lk)("strong",null,"Librarian: "+(0,n.v_)(j.info?.first_name||"Unknown"),1),(0,o.Lk)("span",null,"Campus: "+(0,n.v_)(j.info?.campus?j.info?.campus?.name+" ("+j.info?.campus?.abbrev+")":"Loading..."),1)]),(0,o.bF)(D,{to:{name:"LibrarianInformation"},class:"ms-auto"},{default:(0,o.k6)(()=>a[0]||(a[0]=[(0,o.eW)("View Details")])),_:1,__:[0]})])])]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(j.statCards,(t,a)=>((0,o.uX)(),(0,o.CE)("div",{class:"col-md-3",key:a},[(0,o.Lk)("div",u,[(0,o.Lk)("div",v,[(0,o.Lk)("strong",k,(0,n.v_)(t?.title),1),(0,o.Lk)("div",b,[(0,o.Lk)("i",{class:(0,n.C4)(["bi fs-2 me-2",{"bi-graph-up-arrow text-success":t?.value?.new>t?.value?.old,"bi-graph-down-arrow text-danger":t?.value?.new<t?.value?.old,"bi-arrow-down-up":t?.value?.new===t?.value?.old}])},null,2),(0,o.Lk)("div",h,[(0,o.Lk)("span",m,(0,n.v_)(t?.value?.new),1),t?.value?.new>t?.value?.old?((0,o.uX)(),(0,o.CE)("span",p,"(+"+(0,n.v_)(t?.value?.new-t?.value?.old)+" new)",1)):t?.value?.new<t?.value?.old?((0,o.uX)(),(0,o.CE)("span",L,"(-"+(0,n.v_)(t?.value?.old-t?.value?.new)+")",1)):((0,o.uX)(),(0,o.CE)("span",y,"(-)"))])])])])]))),128))]),(0,o.Lk)("div",g,[a[6]||(a[6]=(0,o.Lk)("h3",{class:"fw-bold"},"Library Statistics",-1)),(0,o.Lk)("div",w,[(0,o.Lk)("div",_,[a[3]||(a[3]=(0,o.Lk)("div",{class:"card-header"},"Latest Acquisition",-1)),(0,o.Lk)("div",f,[(0,o.Lk)("table",C,[a[2]||(a[2]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"Title"),(0,o.Lk)("th",null,"Type"),(0,o.Lk)("th",null,"Year")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(j.latestAcquisitions,(t,a)=>((0,o.uX)(),(0,o.CE)("tr",{key:a},[(0,o.Lk)("td",null,(0,n.v_)(t.title),1),(0,o.Lk)("td",null,(0,n.v_)(t.type),1),(0,o.Lk)("td",null,(0,n.v_)(t.year),1)]))),128))])])])])]),(0,o.Lk)("div",A,[(0,o.Lk)("div",I,[a[5]||(a[5]=(0,o.Lk)("div",{class:"card-header"},"Circulation Logs",-1)),(0,o.Lk)("div",B,[(0,o.Lk)("table",x,[a[4]||(a[4]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"Patron"),(0,o.Lk)("th",null,"Book"),(0,o.Lk)("th",null,"Borrowed On"),(0,o.Lk)("th",null,"Returned On")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(j.circulationLogs,(t,a)=>((0,o.uX)(),(0,o.CE)("tr",{key:a},[(0,o.Lk)("td",null,(0,n.v_)(t.patron),1),(0,o.Lk)("td",null,(0,n.v_)(t.book),1),(0,o.Lk)("td",null,(0,n.v_)(t.borrowed_at),1),(0,o.Lk)("td",null,(0,n.v_)(t.returned_at||"-"),1)]))),128))])])])])])]),a[7]||(a[7]=(0,o.Fv)('<div class="row g-3 mb-5"><h3 class="fw-bold">Patron Statistics</h3><div class="col-md-6"><div class="card shadow-sm"><div class="card-header">Gender Distribution Chart</div><div class="card-body"><canvas id="genderChart" height="200"></canvas></div></div></div><div class="col-md-6"><div class="card shadow-sm"><div class="card-header">Attendance Chart</div><div class="card-body"><canvas id="attendanceChart" height="200"></canvas></div></div></div></div>',1))])}e(8111),e(1701);var j=e(14),V=e(4564),D=e(9064);D.t1.register(...D.$L);var J={mounted(){this.libraryInfo(),this.loadDashboard(),this.renderCharts()},data(){return{info:null,statCards:[{title:"Card 1",value:{old:0,new:1}},{title:"Card 2",value:{old:1,new:0}},{title:"Card 3",value:{old:0,new:0}}],latestAcquisitions:[{title:"Intro to Algorithms",type:"Book",year:2023},{title:"Advanced Vue.js",type:"Book",year:2024},{title:"Intro to Algorithms",type:"Book",year:2023},{title:"Advanced Vue.js",type:"Book",year:2024},{title:"Intro to Algorithms",type:"Book",year:2023},{title:"Advanced Vue.js",type:"Book",year:2024},{title:"Intro to Algorithms",type:"Book",year:2023},{title:"Advanced Vue.js",type:"Book",year:2024},{title:"Intro to Algorithms",type:"Book",year:2023},{title:"Advanced Vue.js",type:"Book",year:2024}],circulationLogs:[{patron:"John Doe",book:"Intro to Algorithms",borrowed_at:"2025-11-23",returned_at:null},{patron:"Jane Smith",book:"Advanced Vue.js",borrowed_at:"2025-11-22",returned_at:"2025-11-23"},{patron:"John Doe",book:"Intro to Algorithms",borrowed_at:"2025-11-23",returned_at:null},{patron:"Jane Smith",book:"Advanced Vue.js",borrowed_at:"2025-11-22",returned_at:"2025-11-23"},{patron:"John Doe",book:"Intro to Algorithms",borrowed_at:"2025-11-23",returned_at:null},{patron:"Jane Smith",book:"Advanced Vue.js",borrowed_at:"2025-11-22",returned_at:"2025-11-23"},{patron:"John Doe",book:"Intro to Algorithms",borrowed_at:"2025-11-23",returned_at:null},{patron:"Jane Smith",book:"Advanced Vue.js",borrowed_at:"2025-11-22",returned_at:"2025-11-23"},{patron:"John Doe",book:"Intro to Algorithms",borrowed_at:"2025-11-23",returned_at:null},{patron:"Jane Smith",book:"Advanced Vue.js",borrowed_at:"2025-11-22",returned_at:"2025-11-23"}],attendanceLog:[{time:"08:00",count:5},{time:"09:00",count:15},{time:"10:00",count:25},{time:"11:00",count:20},{time:"12:00",count:30},{time:"13:00",count:22},{time:"14:00",count:18},{time:"15:00",count:12},{time:"16:00",count:8},{time:"17:00",count:25}],genderMap:[{patron_type:"Student",attendance:{male:34,female:45,other:2}},{patron_type:"Faculty",attendance:{male:12,female:8,other:0}},{patron_type:"Guest",attendance:{male:43,female:21,other:5}}]}},methods:{async libraryInfo(){this.info=await(0,j.ru)()},async loadDashboard(){const t=await(0,V.iq)("l");this.statCards=t.data.data.status_cards,console.log(this.statCards)},renderCharts(){const t=document.getElementById("attendanceChart").getContext("2d");new D.t1(t,{type:"line",data:{labels:this.attendanceLog.map(t=>t.time),datasets:[{label:"Attendance",data:this.attendanceLog.map(t=>t.count),borderColor:"#198754",backgroundColor:"rgba(25, 135, 84, 0.1)",tension:.3,fill:!0,pointRadius:5}]},options:{responsive:!0,plugins:{legend:{display:!0,position:"top"},title:{display:!0,text:"Today's Attendance"}},scales:{y:{beginAtZero:!0}}}});const a=document.getElementById("genderChart").getContext("2d");new D.t1(a,{type:"bar",data:{labels:this.genderMap.map(t=>t.patron_type),datasets:[{label:"Male",data:this.genderMap.map(t=>t.attendance.male),backgroundColor:"#3292ff"},{label:"Female",data:this.genderMap.map(t=>t.attendance.female),backgroundColor:"#ff32b0"},{label:"Other",data:this.genderMap.map(t=>t.attendance.other),backgroundColor:"#6c757d"}]},options:{responsive:!0,plugins:{legend:{position:"bottom"},title:{display:!0,text:"Patron Gender Distribution"}},scales:{x:{stacked:!1},y:{beginAtZero:!0,stacked:!1}}}})}}},X=e(1241);const S=(0,X.A)(J,[["render",E]]);var F=S}}]);
//# sourceMappingURL=3380.47115e68.js.map