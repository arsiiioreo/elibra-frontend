{"version":3,"file":"js/1529.53e59d8f.js","mappings":"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","sources":["webpack://frontend/./src/pages/librarian/dashboard/ActivitiesPage.vue","webpack://frontend/./src/pages/librarian/dashboard/ActivitiesPage.vue?1dbe"],"sourcesContent":["<template>\r\n\t<div class=\"h-100 w-100 vstack overflow-hidden\">\r\n\t\t<div class=\"card mb-1\">\r\n\t\t\t<div class=\"card-header\">Filter</div>\r\n\t\t\t<div class=\"card-body hstack gap-2 justify-content-end\">\r\n\t\t\t\t<div class=\"hstack gap-2\">\r\n\t\t\t\t\t<label for=\"date\">Filter Date</label>\r\n\t\t\t\t\t<input type=\"date\" class=\"form-control\" id=\"date\" name=\"date\" v-model=\"date\" style=\"width: 150px\" :max=\"today\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<button class=\"btn btn-outline-secondary\" @click=\"refresh\">Refresh</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"card h-100 w-100 overflow-hidden\">\r\n\t\t\t<div class=\"card-header\">Your Activity Logs</div>\r\n\r\n\t\t\t<!-- Loading Placeholder -->\r\n\t\t\t<div v-if=\"!data\" class=\"text-center py-5\">\r\n\t\t\t\t<div class=\"spinner-border text-primary\" role=\"status\">\r\n\t\t\t\t\t<span class=\"visually-hidden\">Loading...</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<p class=\"mt-2 text-muted\">Fetching activities...</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- Activity List -->\r\n\t\t\t<div v-else-if=\"data.length > 0\" class=\"list-group rounded-0 overflow-auto\">\r\n\t\t\t\t<div v-for=\"activity in data\" :key=\"activity.id\" class=\"list-group-item list-group-item-action d-flex align-items-start p-3 border-0 border-bottom\">\r\n\t\t\t\t\t<div class=\"me-3\">\r\n\t\t\t\t\t\t<i class=\"bi bi-clock-history fs-3 text-primary\"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"flex-fill\">\r\n\t\t\t\t\t\t<div class=\"d-flex justify-content-between\">\r\n\t\t\t\t\t\t\t<h6 class=\"mb-1 fw-bold\">{{ activity.title }}</h6>\r\n\t\t\t\t\t\t\t<small class=\"text-muted\">\r\n\t\t\t\t\t\t\t\t{{ formatDate(activity.created_at) }}\r\n\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<p class=\"mb-0 text-secondary\">{{ activity.description }}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- Empty State -->\r\n\t\t\t<div v-else class=\"alert alert-info text-center\">\r\n\t\t\t\t<i class=\"bi bi-info-circle me-2\"></i>\r\n\t\t\t\tNo activities found.\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { getActivities, storage } from \"@/stores/librarianCache\";\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tdata: null,\r\n\t\t\tdate: null,\r\n\t\t\ttimer: null,\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\ttoday() {\r\n\t\t\tconst date = new Date();\r\n\t\t\treturn date.toISOString().split(\"T\")[0]; // returns YYYY-MM-DD\r\n\t\t},\r\n\t},\r\n\tcreated() {\r\n\t\tthis.fetchActivities();\r\n\t},\r\n\twatch: {\r\n\t\tdate() {\r\n\t\t\tclearTimeout(this.timer);\r\n\r\n\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\tthis.refresh();\r\n\t\t\t}, 1000);\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\tasync fetchActivities() {\r\n\t\t\tthis.data = null;\r\n\t\t\tthis.data = await getActivities({ date: this.date });\r\n\t\t},\r\n\t\trefresh() {\r\n\t\t\tstorage.activities = null;\r\n\t\t\tthis.fetchActivities();\r\n\t\t},\r\n\t\tformatDate(date) {\r\n\t\t\tconst d = new Date(date);\r\n\t\t\treturn d.toLocaleString();\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.list-group-item {\r\n\ttransition: background 0.2s ease;\r\n}\r\n.list-group-item:hover {\r\n\tbackground: #f8f9fa;\r\n}\r\n</style>\r\n","import { render } from \"./ActivitiesPage.vue?vue&type=template&id=8fb84050&scoped=true\"\nimport script from \"./ActivitiesPage.vue?vue&type=script&lang=js\"\nexport * from \"./ActivitiesPage.vue?vue&type=script&lang=js\"\n\nimport \"./ActivitiesPage.vue?vue&type=style&index=0&id=8fb84050&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8fb84050\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","for","type","id","name","$data","date","$event","style","max","$options","today","onClick","_cache","args","refresh","_hoisted_6","data","length","_hoisted_8","_Fragment","_renderList","activity","key","_hoisted_9","_hoisted_10","_hoisted_11","_toDisplayString","title","_hoisted_12","formatDate","created_at","_hoisted_13","description","_hoisted_14","_hoisted_7","role","timer","computed","Date","toISOString","split","created","this","fetchActivities","watch","clearTimeout","setTimeout","methods","getActivities","storage","activities","d","toLocaleString","__exports__","render"],"sourceRoot":""}