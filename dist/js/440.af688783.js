"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[440],{440:function(e,t,s){s.r(t),s.d(t,{default:function(){return N}});var a=s(6768),i=s(5130),n=s(4232);const l={key:0,class:"card w-100 p-3 shadow-sm mb-4"},o={class:"card-body"},d=["disabled"],r={class:"card shadow-sm w-100"},c={class:"card-header bg-light d-flex justify-content-between align-items-center"},m={class:"card-body p-0"},u={class:"table table-hover align-middle mb-0"},p={key:0},y={class:"text-center"},b={class:"text-start text-capitalize"},f={class:"hstack gap-2 justify-content-center"},h=["onClick"],k=["onClick"],w=["onClick"],L={class:"modal fade",id:"editItemTypeModal",tabindex:"-1","aria-hidden":"true"},g={class:"modal-dialog"},I={class:"modal-content border-0 shadow"},T={class:"modal-body p-4"},C={class:"d-flex justify-content-end mt-4 gap-2"},x=["disabled"];function v(e,t,s,v,_,$){return(0,a.uX)(),(0,a.CE)(a.FK,null,[_.addItem?((0,a.uX)(),(0,a.CE)("div",l,[(0,a.Lk)("div",o,[t[6]||(t[6]=(0,a.Lk)("h4",{class:"fw-bold mb-3 text-primary"},[(0,a.Lk)("i",{class:"bi bi-tags me-3"}),(0,a.eW)("Add New Item Type")],-1)),(0,a.Lk)("form",{onSubmit:t[1]||(t[1]=(0,i.D$)((...e)=>$.addItemType&&$.addItemType(...e),["prevent"])),class:"d-flex gap-2"},[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>_.itemType=e),placeholder:"Enter new item type...",required:""},null,512),[[i.Jo,_.itemType,void 0,{trim:!0}]]),(0,a.Lk)("button",{class:"btn btn-success px-4",type:"submit",disabled:_.itemType.length<2},t[5]||(t[5]=[(0,a.Lk)("i",{class:"bi bi-plus-circle me-2"},null,-1),(0,a.eW)("Add")]),8,d)],32)])])):(0,a.Q3)("",!0),(0,a.Lk)("div",r,[(0,a.Lk)("div",c,[t[8]||(t[8]=(0,a.Lk)("h5",{class:"m-0 fw-bold text-secondary"},[(0,a.Lk)("i",{class:"bi bi-list-ul me-3"}),(0,a.eW)("Item Type List")],-1)),(0,a.Lk)("button",{class:"btn btn-outline-secondary btn-sm",onClick:t[2]||(t[2]=(...e)=>$.fetchRecord&&$.fetchRecord(...e))},t[7]||(t[7]=[(0,a.Lk)("i",{class:"bi bi-arrow-clockwise me-1"},null,-1),(0,a.eW)("Refresh")]))]),(0,a.Lk)("div",m,[(0,a.Lk)("table",u,[t[13]||(t[13]=(0,a.Lk)("thead",{class:"table-light"},[(0,a.Lk)("tr",null,[(0,a.Lk)("th",{style:{width:"75px"},class:"text-center"},"#"),(0,a.Lk)("th",{class:"text-start"},"Name"),(0,a.Lk)("th",{style:{width:"250px"},class:"text-center"},"Actions")])],-1)),(0,a.Lk)("tbody",null,[$.itemTypes&&0!==$.itemTypes.length?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("tr",p,t[9]||(t[9]=[(0,a.Lk)("td",{colspan:"3",class:"text-center py-4 text-muted"},[(0,a.Lk)("i",{class:"bi bi-inbox"}),(0,a.eW)(" No Data Found.")],-1)]))),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)($.itemTypes,(e,s)=>((0,a.uX)(),(0,a.CE)("tr",{key:e.id},[(0,a.Lk)("td",y,(0,n.v_)(s+1),1),(0,a.Lk)("td",b,(0,n.v_)(e.name),1),(0,a.Lk)("td",null,[(0,a.Lk)("div",f,[e.deleted_at?((0,a.uX)(),(0,a.CE)("button",{key:1,class:"btn btn-primary btn-sm",onClick:t=>$.restoreItemType(e)},t[11]||(t[11]=[(0,a.Lk)("i",{class:"bi bi-arrow-counterclockwise"},null,-1),(0,a.eW)(" Restore")]),8,k)):((0,a.uX)(),(0,a.CE)("button",{key:0,class:"btn btn-warning btn-sm","data-bs-toggle":"modal","data-bs-target":"#editItemTypeModal",onClick:t=>$.startEdit(e)},t[10]||(t[10]=[(0,a.Lk)("i",{class:"bi bi-pencil me-2"},null,-1),(0,a.eW)(" Edit")]),8,h)),(0,a.Lk)("button",{class:"btn btn-danger btn-sm",onClick:t=>$.deleteItemType(e)},t[12]||(t[12]=[(0,a.Lk)("i",{class:"bi bi-trash me-2"},null,-1),(0,a.eW)(" Delete")]),8,w)])])]))),128))])])])]),(0,a.Lk)("div",L,[(0,a.Lk)("div",g,[(0,a.Lk)("div",I,[t[17]||(t[17]=(0,a.Lk)("div",{class:"modal-header bg-primary text-white"},[(0,a.Lk)("h5",{class:"modal-title"},[(0,a.Lk)("i",{class:"bi bi-pencil-square me-2"}),(0,a.eW)("Edit Item Type")]),(0,a.Lk)("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal"})],-1)),(0,a.Lk)("div",T,[(0,a.Lk)("form",{onSubmit:t[4]||(t[4]=(0,i.D$)((...e)=>$.updateItemType&&$.updateItemType(...e),["prevent"]))},[t[16]||(t[16]=(0,a.Lk)("label",{class:"form-label fw-bold"},"New Name",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>_.editItemType.name=e),required:""},null,512),[[i.Jo,_.editItemType.name,void 0,{trim:!0}]]),(0,a.Lk)("div",C,[t[15]||(t[15]=(0,a.Lk)("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"Cancel",-1)),(0,a.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:_.editItemType.name.length<2,"data-bs-dismiss":"modal"},t[14]||(t[14]=[(0,a.Lk)("i",{class:"bi bi-floppy me-1"},null,-1),(0,a.eW)(" Save")]),8,x)])],32)])])])])],64)}s(4114),s(8111),s(2489);var _=s(4874),$=s.n(_),D=s(144),E=s(1661),R=s(445),A=s(4564),B=s(223),M=s(5719),S={created(){this.fetchRecord()},computed:{itemTypes(){return B.IG.item_type}},data(){return{itemType:"",addItem:!1,editItemType:(0,D.Kh)({id:null,name:"",oldName:""})}},methods:{async fetchRecord(){(0,E.C)({});try{const e=await(0,A.iq)("item-type/get");B.IG.item_type=e.data}catch(e){(0,R.w)({status:"error",title:"Error",message:"Failed to fetch data."})}finally{(0,E.R)()}},async addItemType(){const e=await $().fire({title:"Add Item Type",text:`Add "${this.itemType}" as a new item type?`,icon:"question",showCancelButton:!0,confirmButtonColor:"green",confirmButtonText:"Yes, Add",cancelButtonText:"Cancel"});if(e.isConfirmed){(0,E.C)({message:"Adding item type..."});try{const e=await(0,A.MB)("item-type/add",{name:this.itemType.toLowerCase()});"success"===e.data.status&&(B.IG.item_type.push(e.data.data),this.itemType="",(0,E.R)(),(0,R.w)({status:"success",title:"Success",message:"Item type added successfully!"}))}catch{(0,R.w)({status:"error",title:"Error",message:"Unable to add item type."})}finally{(0,E.R)()}}},startEdit(e){this.editItemType.id=e.id,this.editItemType.name=e.name,this.editItemType.oldName=e.name},async updateItemType(){(0,E.C)({message:"Updating item type..."});try{const e=await(0,A.zi)("item-type/edit",{id:this.editItemType.id,name:this.editItemType.name.toLowerCase()});if("success"===e.data.status){const e=B.IG.item_type.findIndex(e=>e.id===this.editItemType.id);-1!==e&&(B.IG.item_type[e].name=this.editItemType.name),(0,R.w)({status:"success",title:"Updated",message:"Item type updated successfully!"})}}catch{(0,R.w)({status:"error",title:"Error",message:"Unable to update item type."})}finally{(0,E.R)()}},async deleteItemType(e){let t=null;if(t=null!==e.deleted_at?await $().fire({icon:"warning",title:"Delete Item Type Permanently",text:`Are you sure you want to delete "${(0,M.Sn)(e.name)}"? This will permanently delete the item type in the database.`,showCancelButton:!0,confirmButtonText:"Yes, Delete permanently",reverseButtons:!0}):await $().fire({icon:"warning",title:"Delete Item Type",text:`Are you sure you want to delete "${(0,M.Sn)(e.name)}"?`,showCancelButton:!0,confirmButtonText:"Yes, Delete",reverseButtons:!0}),t.isConfirmed){(0,E.C)({message:"Deleting item type..."});try{const t=await(0,A.Fb)(`item-type/delete/${e.id}`);if("success"===t.data.status){const t=B.IG.item_type.findIndex(t=>t.id===e.id);null!==e.deleted_at?B.IG.item_type=B.IG.item_type.filter(t=>t.id!==e.id):-1!==t&&(B.IG.item_type[t].deleted_at=new Date),(0,R.w)({status:"success",title:"Deleted",message:"Item type removed!"})}}catch{(0,R.w)({status:"error",title:"Error",message:"Failed to delete item type."})}finally{(0,E.R)()}}},async restoreItemType(e){const t=await $().fire({icon:"question",title:"Restore Item Type",text:`Do you want to restore "${e.name}"?`,showCancelButton:!0,confirmButtonText:"Yes, Restore",reverseButtons:!0});if(t.isConfirmed){(0,E.C)({message:"Restoring item type..."});try{const t=await(0,A.zi)(`item-type/restore/${e.id}`);if("success"===t.data.status){const t=B.IG.item_type.findIndex(t=>t.id===e.id);-1!==t&&(B.IG.item_type[t].deleted_at=null),(0,R.w)({status:"success",title:"Restored",message:"Item type restored!"})}}catch{(0,R.w)({status:"error",title:"Error",message:"Failed to restore item type."})}finally{(0,E.R)()}}}}},G=s(1241);const W=(0,G.A)(S,[["render",v],["__scopeId","data-v-66323b31"]]);var N=W},5719:function(e,t,s){s.d(t,{ES:function(){return a},KY:function(){return d},Sn:function(){return i},Yq:function(){return l},fF:function(){return o},sL:function(){return n}});s(8111),s(1701);const a=e=>e?e.charAt(0).toUpperCase()+e.slice(1):null,i=e=>e.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),n=e=>{if(console.log(e),!e)return"-";const t=new Date(e);return t.toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"})},l=e=>{if(!e)return null;const t=new Date(e);return t.toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},o=e=>{if(!e)return null;const t=new Date,s=new Date(e),a=Math.floor((t-s)/1e3);return a<60?`${a} sec${1!==a?"s":""} ago`:a<3600?`${Math.floor(a/60)} min${1!==Math.floor(a/60)?"s":""} ago`:a<86400?`${Math.floor(a/3600)} hr${1!==Math.floor(a/3600)?"s":""} ago`:`${Math.floor(a/86400)} day${1!==Math.floor(a/86400)?"s":""} ago`},d=e=>{if(!e)return"N/A";const[t,s]=e.split(":").map(Number),a=t>=12?"PM":"AM",i=t%12||12;return`${i}:${s.toString().padStart(2,"0")} ${a}`}}}]);
//# sourceMappingURL=440.af688783.js.map