"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[4737],{149:function(e,t,i){i.d(t,{A:function(){return x}});var a=i(6768),n=i(4232),s=i(3153);const r={key:0,class:"fw-bold sidebar-text ms-2 text-prime"},o={class:"avatar rounded-circle me-3 ms-2 border border-success p-1 overflow-hidden",style:{width:"45px",height:"45px"}},l=["src"],d={class:"d-flex flex-column sidebar-text"},c={class:"fs-5 text-prime fw-bold pe-1 text-nowrap"},p={class:"overflow-auto h-100 flex-grow-1 pb-5"},m={key:0,class:"text-secondary fw-bold sidebar-text pb-2",style:{padding:"10px"}},u={key:0,class:"text-truncate sidebar-text"};function b(e,t,i,b,h,g){const f=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("aside",{id:"sidebar",class:(0,n.C4)(["d-flex flex-column h-100 bg-white border-end sidebar overflow-hidden",{open:i.sideBarOpen}])},[(0,a.bF)(f,{to:{name:"landing"},class:(0,n.C4)(["d-flex align-items-center p-3 text-decoration-none text-black w-100",{"justify-content-center":!i.sideBarOpen}])},{default:(0,a.k6)(()=>[t[0]||(t[0]=(0,a.Lk)("img",{src:s,alt:"Logo",style:{width:"30px",height:"30px"}},null,-1)),i.sideBarOpen?((0,a.uX)(),(0,a.CE)("span",r," e-Libra ")):(0,a.Q3)("",!0)]),_:1,__:[0]},8,["class"]),(0,a.Lk)("div",{class:(0,n.C4)(["d-flex align-items-center p-2 sidebar-profile overflow-hidden",[{open:i.sideBarOpen},i.sideBarOpen?"d-flex":"d-none"]])},[(0,a.Lk)("div",o,[(0,a.Lk)("img",{src:g.profilePic,alt:"Profile Picture",class:"rounded-circle",style:{"background-position":"center"}},null,8,l)]),(0,a.Lk)("div",d,[t[1]||(t[1]=(0,a.Lk)("span",{class:"small text-dark"},"Welcome!",-1)),(0,a.Lk)("span",c,(0,n.v_)(i.user?.first_name),1)])],2),t[2]||(t[2]=(0,a.Lk)("hr",{class:"text-secondary mb-0"},null,-1)),(0,a.Lk)("nav",p,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(g.sideBarRoutes,e=>((0,a.uX)(),(0,a.CE)("div",{class:"nav flex-column",key:e.name},[i.sideBarOpen?((0,a.uX)(),(0,a.CE)("small",m,(0,n.v_)(e.name),1)):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.child,e=>((0,a.uX)(),(0,a.Wv)(f,{class:"nav-link d-flex align-items-center w-100 p-3 text-secondary","active-class":"active text-success fw-bold bg-secondary-subtle border-end border-4 border-success",key:e.path,to:{name:e.path},exact:"","data-bs-container":"body","data-bs-toggle":i.sideBarOpen?null:"popover","data-bs-trigger":i.sideBarOpen?null:"hover","data-bs-placement":"right","data-bs-content":e.name},{default:(0,a.k6)(()=>[(0,a.Lk)("i",{class:(0,n.C4)([e.icon,i.sideBarOpen?"mx-3":"mx-auto"])},null,2),i.sideBarOpen?((0,a.uX)(),(0,a.CE)("span",u,(0,n.v_)(e.name),1)):(0,a.Q3)("",!0)]),_:2},1032,["to","data-bs-toggle","data-bs-trigger","data-bs-content"]))),128))]))),128))])],2)}i(8111),i(7588),i(3579);var h=i(8077),g=i(1203);const f={0:{general:{name:"Dashoard",child:{overview:{name:"Overview",path:"AdminDashboard",icon:"bi bi-house"},reports:{name:"Reports",path:"AdminReports",icon:"bi bi-file-earmark-text"},profile:{name:"Profile",path:"AdminProfile",icon:"bi bi-person-circle"}}},management:{name:"Management",child:{itemTypes:{name:"Item Types",path:"AdminItemTypes",icon:"bi bi-wallet"},users:{name:"User Management",path:"AdminUsers",icon:"bi bi-people"},campus:{name:"Campus Management",path:"AdminCampuses",icon:"bi bi-building"}}},configuration:{name:"System Configuration",child:{libraryInfo:{name:"Library Information",path:"AdminLibraryInformation",icon:"bi bi-info-circle"},penaltySettings:{name:"Penalty Settings",path:"AdminPenaltySettings",icon:"bi bi-exclamation-triangle"}}},security:{name:"Audit & Security",child:{auditLogs:{name:"Audit Logs",path:"AdminAuditLogs",icon:"bi bi-shield-lock"},loginAttempts:{name:"Login Attempts",path:"AdminLoginAttempts",icon:"bi bi-door-open"}}}},1:{dashboard:{name:"Dashboard",child:{dashboard:{name:"Overview",path:"LibrarianDashboardOverview",icon:"bi bi-house"},profile:{name:"Notifications",path:"LibrarianDashboardNotifications",icon:"bi bi-bell"},activities:{name:"Activities",path:"LibrarianDashboardActivities",icon:"bi bi-list-check"}}},catalog:{name:"Catalog Management",child:{cataloging:{name:"Cataloging",path:"LibrarianCataloging",icon:"bi bi-folder"},acquisition:{name:"Acquisition",path:"LibrarianAcquisition",icon:"bi bi-folder"}}},reports:{name:"Reports & Analytics",child:{circulation:{name:"Circulation Reports",path:"LibrarianCirculationReports",icon:"bi bi-arrow-left-right"},inventory:{name:"Inventory Reports",path:"LibrarianInventoryReports",icon:"bi bi-box-seam"},patron:{name:"Patron Reports",path:"LibrarianPatronReports",icon:"bi bi-person-lines-fill"},finance:{name:"Finance Reports",path:"LibrarianFinanceReports",icon:"bi bi-cash-stack"},audit:{name:"Audit Logs",path:"LibrarianAuditLogs",icon:"bi bi-shield-lock"}}},settings:{name:"Settings",child:{roles:{name:"Roles & Permission",path:"LibrarianRoles",icon:"bi bi-person-gear"},information:{name:"Library Information",path:"LibrarianInformation",icon:"bi bi-info-circle"},penalty:{name:"Penalty",path:"LibrarianPenalty",icon:"bi bi-exclamation-triangle"}}},backup:{name:"Backup",child:{backup:{name:"Backup",path:"LibrarianBackup",icon:"bi bi-cloud-arrow-down"}}}}};var v={props:{user:{type:Object,default:()=>({})},sideBarOpen:{type:Boolean,default:"true"===localStorage.getItem("sba-state")}},computed:{profilePic(){return this.user?.profile_picture||g},sideBarRoutes(){return f[this.user.role]||{}}},methods:{toggleSidebar(){const e=document.getElementById("sidebar");e.classList.toggle("d-none")},isActiveGroup(e){if(!e.child)return!1;const t=Object.values(e.child);return t.some(e=>e.path===this.$route.name)},initPopovers(){document.querySelectorAll('[data-bs-toggle="popover"]').forEach(e=>{e._popover&&(e._popover.dispose(),e._popover=null)}),this.sideBarOpen||document.querySelectorAll('[data-bs-toggle="popover"]').forEach(e=>{e._popover=new h.AM(e,{trigger:"hover",placement:"right",delay:{show:100,hide:100}})})}},mounted(){this.$nextTick(()=>this.initPopovers())},watch:{sideBarOpen(){this.$nextTick(()=>this.initPopovers())}}},k=i(1241);const L=(0,k.A)(v,[["render",b],["__scopeId","data-v-d9a65c46"]]);var x=L},1203:function(e,t,i){e.exports=i.p+"img/profile_default.2f6f1ea4.png"},3153:function(e,t,i){e.exports=i.p+"img/logo.5092d4aa.png"},4737:function(e,t,i){i.r(t),i.d(t,{default:function(){return H}});var a=i(6768),n=i(4232);const s={class:"d-flex flex-column vh-100 overflow-hidden"},r={class:"page-header d-flex justify-content-between align-items-center bg-white p-2 px-3 border-bottom",style:{"z-index":"1"}},o={class:"d-flex align-items-center"},l=["src"],d={style:{"font-size":"0.85rem"}},c={class:"fw-bold mb-0"},p={class:"d-flex gap-2 align-items-center",style:{"font-size":"0.85rem"}},m={class:"btn-group"},u={type:"button",class:"btn d-flex align-items-center dropdown-toggle border","data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false"},b={class:"px-1 me-2"},h=["src"],g={class:"dropdown-menu dropdown-menu-end mt-2",style:{width:"300px","z-index":"9999"}},f={class:"container"},v={class:"card"},k={class:"card-body text-center"},L=["src"],x={class:"card-title fs-5 fw-bold mb-0"},y={class:"card-subtitle mb-2 text-body-secondary"},w={class:"p-2"},C={class:"p-2 bg-secondary text-light mx-2 rounded-1"},_={class:"navbar d-flex align-items-center w-100 bg-body-tertiary p-2 text-dark border-bottom"},B={style:{"--bs-breadcrumb-divider":"url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%228%22 height=%228%22%3E%3Cpath d=%22M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z%22 fill=%22%236c757d%22/%3E%3C/svg%3E')"},"aria-label":"breadcrumb"},A={class:"breadcrumb m-0 align-items-center",style:{"font-size":"0.85rem !important"}},S={key:1},O={class:"d-flex w-100 p-0 h-100 overflow-hidden"},I={class:"d-flex flex-column h-100 bg-white overflow-hidden w-100"},P={class:"d-flex justify-content-between align-items-center p-4 mb-0 border-bottom"},E={class:""},R={class:"fw-semibold pb-0 mb-0"},X={class:"mb-0"},D={class:"text-end"},F={class:"fw-semibold pb-0 mb-0"},W={class:"mb-0"},$={class:"container-fluid overflow-hidden h-100 p-1 bg-body-secondary"};function T(e,t,i,T,U,z){const M=(0,a.g2)("router-link"),j=(0,a.g2)("SideBar"),q=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("div",r,[(0,a.Lk)("div",o,[(0,a.Lk)("span",{class:"p-2 py-1 bg-light border rounded me-3 text-prime",onClick:t[0]||(t[0]=(...e)=>z.setSideBarState&&z.setSideBarState(...e)),style:{cursor:"pointer"}},t[2]||(t[2]=[(0,a.Lk)("i",{class:"bi bi-list"},null,-1)])),(0,a.Lk)("img",{class:"me-3",src:U.isu,alt:"",width:"30",height:"auto"},null,8,l),(0,a.Lk)("div",d,[(0,a.Lk)("h5",c,(0,n.v_)("Isabela State University - "+(U.user.campus?.name||"Global")+(U.user.branch?.name?" ("+U.user.branch?.name+")":"")),1)])]),(0,a.Lk)("div",p,[(0,a.bF)(M,{to:{name:"landing"},class:"btn btn-outline-prime border"},{default:(0,a.k6)(()=>t[3]||(t[3]=[(0,a.Lk)("i",{class:"bi bi-house me-2"},null,-1),(0,a.eW)("Home")])),_:1,__:[3]}),(0,a.Lk)("div",m,[(0,a.Lk)("button",u,[(0,a.Lk)("span",b,(0,n.v_)("0"===U.user.role?"Admin":"Librarian"),1),(0,a.Lk)("img",{class:"me-2 rounded-circle p-1 border border-success",src:U.user.profile_picture||U.profile_default,alt:"logo",style:{width:"30px",height:"30px"}},null,8,h)]),(0,a.Lk)("ul",g,[(0,a.Lk)("div",f,[(0,a.Lk)("div",v,[(0,a.Lk)("div",k,[t[4]||(t[4]=(0,a.Lk)("div",{class:"d-flex text-prime mb-3"},[(0,a.Lk)("small",{class:"fw-bold me-auto"},"Profile Card")],-1)),(0,a.Lk)("img",{class:"p-1 rounded-circle border border-success mb-3",src:U.user.profile_picture||U.profile_default,alt:"profile_logo",style:{width:"75px",height:"75px"}},null,8,L),(0,a.Lk)("h6",x,(0,n.v_)(U.user.name),1),(0,a.Lk)("small",y,(0,n.v_)("0"===U.user.role?"Admin":"Librarian"),1)])])]),(0,a.Lk)("li",w,[t[6]||(t[6]=(0,a.Lk)("h6",{class:"dropdown-header ms-1 ps-0"},"Actions",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(z.profileCardRoutes,e=>((0,a.uX)(),(0,a.Wv)(M,{to:{name:e.path},class:"dropdown-item p-2 py-3 rounded",type:"button",key:e},{default:(0,a.k6)(()=>[(0,a.Lk)("span",C,[(0,a.Lk)("i",{class:(0,n.C4)(e.icon)},null,2)]),(0,a.eW)(" "+(0,n.v_)(e.name),1)]),_:2},1032,["to"]))),128)),(0,a.Lk)("button",{class:"dropdown-item p-2 py-3 rounded",type:"button",onClick:t[1]||(t[1]=(...t)=>e.$logout&&e.$logout(...t))},t[5]||(t[5]=[(0,a.Lk)("span",{class:"p-2 bg-secondary text-light mx-2 rounded-1"},[(0,a.Lk)("i",{class:"bi bi-door-open"})],-1),(0,a.eW)(" Logout ")]))])])])])]),(0,a.Lk)("header",_,[(0,a.Lk)("nav",B,[(0,a.Lk)("ol",A,[t[7]||(t[7]=(0,a.Lk)("i",{class:"bi bi-house-fill ms-2"},null,-1)),t[8]||(t[8]=(0,a.Lk)("p",{class:"mx-2 mb-0",style:{background:"url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%228%22 height=%228%22%3E%3Cpath d=%22M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z%22 fill=%22%236c757d%22/%3E%3C/svg%3E') no-repeat center",width:"10px",height:"8px"}},null,-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(z.breadcrumbs,(e,t)=>((0,a.uX)(),(0,a.CE)("li",{key:t,class:(0,n.C4)(["breadcrumb-item text-dark",{active:!e.to}])},[e.to?((0,a.uX)(),(0,a.Wv)(M,{key:0,to:e.to,class:"text-decoration-none text-black"},{default:(0,a.k6)(()=>[(0,a.eW)((0,n.v_)(e.text),1)]),_:2},1032,["to"])):((0,a.uX)(),(0,a.CE)("span",S,(0,n.v_)(e.text),1))],2))),128))])])]),(0,a.Lk)("div",O,[(0,a.bF)(j,{user:U.user,sideBarOpen:U.sideBarOpen},null,8,["user","sideBarOpen"]),(0,a.Lk)("div",I,[(0,a.Lk)("div",P,[(0,a.Lk)("div",E,[(0,a.Lk)("h2",R,(0,n.v_)(U.page.title),1),(0,a.Lk)("p",X,(0,n.v_)(U.page.description),1)]),(0,a.Lk)("div",D,[(0,a.Lk)("h2",F,(0,n.v_)(U.page.time),1),(0,a.Lk)("p",W,(0,n.v_)(U.page.date),1)])]),(0,a.Lk)("main",$,[(0,a.bF)(q)])])])])}i(8111),i(1701);var U=i(14),z=i(149),M=i(5935),j=i(5068),q=i(1203),Q=i(2994),K={name:"AdminLayout",async created(){this.loadUser(),(0,Q._Q)()},components:{SideBar:z.A},computed:{breadcrumbs(){let e=this.$route.matched;return e.map(e=>({text:e.meta.breadcrumb,to:e.path!==this.$route.path?{name:e.name}:null}))},profileCardRoutes(){return this.routesByRole[this.user.role]||{}}},watch:{$route:{immediate:!0,handler(e){this.page.title=e.meta.title||"Title",this.page.description=e.meta.description||"Description"}},timeNow:{immediate:!0,handler(){setInterval(()=>{this.page.time=(new Date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})},1e3)}}},data(){return{user:{name:null,role:null},profile_default:q,isu:M,sideBarOpen:"true"===localStorage.getItem("sba-state"),page:{title:"",description:"",date:(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",weekday:"long"}),time:(new Date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})},routesByRole:{0:{profile:{name:"Profile",path:"AdminProfile",icon:"bi bi-person"},settings:{name:"Settings",path:"AdminConfiguration",icon:"bi bi-gear"}},1:{profile:{name:"Profile",path:"LibrarianProfile",icon:"bi bi-person"},settings:{name:"Settings",path:"LibrarianSettings",icon:"bi bi-gear"}}}}},methods:{async loadUser(){this.user=await(0,U.ru)();const e=(0,j.s)(U.Sh.value);this.user.role=e.role},setSideBarState(){this.sideBarOpen=!this.sideBarOpen,localStorage.setItem("sba-state",this.sideBarOpen)},welcome(){U.y5.value&&this.$toast.info("Welcome back, "+U.kQ.value.first_name+"!",{closeOnClick:!0,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),U.y5.value=!1}},mounted(){const e=localStorage.getItem("sba-state");e?this.sideBarOpen="true"===e:(localStorage.setItem("sba-state",!0),this.sideBarOpen=!0),this.welcome()}},N=i(1241);const G=(0,N.A)(K,[["render",T]]);var H=G},5935:function(e,t,i){e.exports=i.p+"img/isu.fc34b2e0.png"}}]);
//# sourceMappingURL=4737.6d797853.js.map