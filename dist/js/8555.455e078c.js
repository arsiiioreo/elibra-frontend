"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[8555],{3098:function(e,a,t){e.exports=t.p+"img/spinner.42b4388c.gif"},3153:function(e,a,t){e.exports=t.p+"img/logo.5092d4aa.png"},3973:function(e,a,t){t.d(a,{l:function(){return o}});var s=t(4874),l=t.n(s);const o=async({title:e,message:a})=>l().fire({title:e,text:a,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(e=>e.isConfirmed)},4860:function(e,a,t){e.exports=t.p+"img/book_blank.e501f7df.png"},4986:function(e,a,t){t.d(a,{LZ:function(){return l},jk:function(){return o},mU:function(){return s}});const s={audio:{id:"audio",name:"Audio"},book:{id:"book",name:"Book"},dissertation:{id:"dissertation",name:"Dissertation"},electronic:{id:"electronic",name:"Electronic"},newspaper:{id:"newspaper",name:"Newspaper Clippings"},periodical:{id:"periodical",name:"Periodical"},serial:{id:"serial",name:"Serial"},thesis:{id:"thesis",name:"Thesis"},vertical:{id:"vertical",name:"Vertical"}},l={encyclopedia:{id:"encyclopedia",name:"Encyclopedia"},english:{id:"english",name:"English"},filipiniana:{id:"filipiniana",name:"Filipiniana"},fiction:{id:"fiction",name:"Fiction"},general:{id:"general",name:"General"},math:{id:"math",name:"Math"},novel:{id:"novel",name:"Novel"},references:{id:"references",name:"References"},science:{id:"science",name:"Science"},textbook:{id:"textbook",name:"Textbook"}},o={purchased:{id:"purchased",name:"Purchased"},gift:{id:"gift",name:"Gift"},donated:{id:"donated",name:"Donated"},exchange:{id:"exchange",name:"Exchange"}}},5719:function(e,a,t){t.d(a,{ES:function(){return s},KY:function(){return c},Sn:function(){return l},Yq:function(){return n},fF:function(){return i},sL:function(){return o}});t(8111),t(1701);const s=e=>e?e.charAt(0).toUpperCase()+e.slice(1):null,l=e=>e.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),o=e=>{if(console.log(e),!e)return"-";const a=new Date(e);return a.toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"})},n=e=>{if(!e)return null;const a=new Date(e);return a.toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},i=e=>{if(!e)return null;const a=new Date,t=new Date(e),s=Math.floor((a-t)/1e3);return s<60?`${s} sec${1!==s?"s":""} ago`:s<3600?`${Math.floor(s/60)} min${1!==Math.floor(s/60)?"s":""} ago`:s<86400?`${Math.floor(s/3600)} hr${1!==Math.floor(s/3600)?"s":""} ago`:`${Math.floor(s/86400)} day${1!==Math.floor(s/86400)?"s":""} ago`},c=e=>{if(!e)return"N/A";const[a,t]=e.split(":").map(Number),s=a>=12?"PM":"AM",l=a%12||12;return`${l}:${t.toString().padStart(2,"0")} ${s}`}},8555:function(e,a,t){t.r(a),t.d(a,{default:function(){return Ga}});var s=t(6768),l=t(4232),o=t(5130),n=t(3153);const i={class:"d-flex flex-column justify-content-center align-items-center vh-100 bg-dark text-white overflow-hidden"},c={key:0,class:"card fade-in overflow-hidden",style:{width:"85%","max-width":"1000px",height:"90vh","max-height":"90vh"}},r={key:1,class:"card glass-card p-3 fade-in rounded-3 d-flex overflow-hidden",style:{width:"85%","max-width":"1300px",height:"90vh","max-height":"90vh"}},d={class:"fw-bold text-prime"},m={class:"hstack gap-3 h-100 overflow-hidden"},u={class:"card h-100",style:{width:"30%"}},p={class:"card-body vstack"},b={class:"filter-group down"},k={class:"filter-item"},h={class:"hstack gap-2"},v=["value"],L=["value"],f={class:"filter-group down"},g={class:"filter-item"},y={key:0,value:""},w={key:1,value:""},_=["value","selected"],x={class:"filter-item"},C={class:"filter-item"},S={for:"order"},E={key:0,class:"bi bi-arrow-up me-2"},I={key:1,class:"bi bi-arrow-down me-2"},A={class:"ms-auto mt-auto hstack gap-2"},P={class:"w-100 card h-100 overflow-hidden"},F={class:"card-body d-flex flex-column overflow-auto h-100"},X={class:"row g-0 mb-3"},D={class:"ms-auto hstack gap-2"},M={class:"w-100 position-relative"},U={key:0,class:"text-muted p-5 text-center small"},R=["onMousedown"],N={class:"mb-0 me-auto"},B={class:"text-muted small"},$=["onMousedown"],q={class:"table-responsive border rounded bg-body-secondary overflow-auto h-100"},T={class:"text-center mt-4 small opacity-75 position-absolute bottom-0 end-0 start-0 mb-3"},W={class:"modal fade",id:"locationSelection",tabindex:"-1"},Y={class:"modal-dialog modal-dialog-scrollable modal-dialog-centered modal-md"},j={class:"modal-content"},O={class:"modal fade",id:"reserveModal",tabindex:"-1","data-bs-backdrop":"static","data-bs-keyboard":"false",role:"dialog","aria-labelledby":"modalTitleId","aria-hidden":"true"};function K(e,a,t,K,Q,V){const J=(0,s.g2)("information-page"),z=(0,s.g2)("list-page"),G=(0,s.g2)("location-selection-modal"),H=(0,s.g2)("ReservationPage");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",i,[a[40]||(a[40]=(0,s.Lk)("div",{class:"position-absolute top-0 start-0 w-100 h-100 gradient-bg"},null,-1)),Q.d.title?((0,s.uX)(),(0,s.CE)("div",c,[(0,s.bF)(J,{data:Q.d,onBack:a[0]||(a[0]=e=>Q.d={})},null,8,["data"])])):((0,s.uX)(),(0,s.CE)("div",r,[(0,s.Lk)("h4",d,[a[19]||(a[19]=(0,s.Lk)("img",{src:n,alt:"",width:"50",height:"50"},null,-1)),(0,s.eW)(" ISU Online Public Access Catalog - "+(0,l.v_)(Q.campus.name),1)]),(0,s.Lk)("div",m,[(0,s.Lk)("div",u,[a[33]||(a[33]=(0,s.Lk)("div",{class:"card-header"},"Additional Filters",-1)),(0,s.Lk)("div",p,[(0,s.Lk)("div",b,[a[25]||(a[25]=(0,s.Fv)('<small class="fw-bold" data-v-dce4ee62>Publication</small><div class="filter-item" data-v-dce4ee62><label for="location" data-v-dce4ee62><i class="bi bi-map me-2" data-v-dce4ee62></i>Location</label><input type="text" class="form-control" placeholder="Default" data-bs-toggle="modal" data-bs-target="#locationSelection" readonly data-v-dce4ee62></div>',2)),(0,s.Lk)("div",k,[a[24]||(a[24]=(0,s.Lk)("label",{for:"year"},[(0,s.Lk)("i",{class:"bi bi-calendar me-2"}),(0,s.eW)("Year Published")],-1)),(0,s.Lk)("div",h,[a[22]||(a[22]=(0,s.Lk)("label",{for:"from"},"From",-1)),(0,s.bo)((0,s.Lk)("select",{name:"from",id:"from",class:"form-select","onUpdate:modelValue":a[1]||(a[1]=e=>Q.params.year_from=e)},[a[20]||(a[20]=(0,s.Lk)("option",{value:""},"Default",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Q.fromYear,e=>((0,s.uX)(),(0,s.CE)("option",{key:e,value:e},(0,l.v_)(e),9,v))),128))],512),[[o.u1,Q.params.year_from]]),a[23]||(a[23]=(0,s.Lk)("label",{for:"to"},"To",-1)),(0,s.bo)((0,s.Lk)("select",{name:"to",id:"to",class:"form-select","onUpdate:modelValue":a[2]||(a[2]=e=>Q.params.year_to=e)},[a[21]||(a[21]=(0,s.Lk)("option",{value:""},"Default",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Q.yearRange,e=>((0,s.uX)(),(0,s.CE)("option",{key:e,value:e},(0,l.v_)(e),9,L))),128))],512),[[o.u1,Q.params.year_to]])])])]),a[32]||(a[32]=(0,s.Lk)("hr",null,null,-1)),(0,s.Lk)("div",f,[a[31]||(a[31]=(0,s.Lk)("small",{class:"fw-bold"},"Organize",-1)),(0,s.Lk)("div",g,[a[26]||(a[26]=(0,s.Lk)("label",{for:"type"},[(0,s.Lk)("i",{class:"bi bi-list me-2"}),(0,s.eW)("Material Type")],-1)),(0,s.bo)((0,s.Lk)("select",{name:"type",id:"type",class:"form-select","onUpdate:modelValue":a[3]||(a[3]=e=>Q.params.type=e)},[0==Q.item_types.length?((0,s.uX)(),(0,s.CE)("option",y,"Loading item types, please wait...")):((0,s.uX)(),(0,s.CE)("option",w,"All")),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Q.item_types,(e,a)=>((0,s.uX)(),(0,s.CE)("option",{value:e.id,key:a,selected:e.id},(0,l.v_)(e.name),9,_))),128))],512),[[o.u1,Q.params.type]])]),(0,s.Lk)("div",x,[a[28]||(a[28]=(0,s.Lk)("label",{for:"sort"},[(0,s.Lk)("i",{class:"bi bi-list me-2"}),(0,s.eW)("Sort By")],-1)),(0,s.bo)((0,s.Lk)("select",{name:"sort",id:"sort",class:"form-select","onUpdate:modelValue":a[4]||(a[4]=e=>Q.params.sort=e)},a[27]||(a[27]=[(0,s.Lk)("option",{value:"title"},"Title",-1),(0,s.Lk)("option",{value:"year_published"},"Year Published",-1)]),512),[[o.u1,Q.params.sort]])]),(0,s.Lk)("div",C,[(0,s.Lk)("label",S,["asc"==Q.params.order?((0,s.uX)(),(0,s.CE)("i",E)):((0,s.uX)(),(0,s.CE)("i",I)),a[29]||(a[29]=(0,s.eW)("Order"))]),(0,s.bo)((0,s.Lk)("select",{name:"order",id:"order",class:"form-select","onUpdate:modelValue":a[5]||(a[5]=e=>Q.params.order=e)},a[30]||(a[30]=[(0,s.Lk)("option",{value:"asc"},"Ascending",-1),(0,s.Lk)("option",{value:"desc"},"Descending",-1)]),512),[[o.u1,Q.params.order]])])]),(0,s.Lk)("div",A,[(0,s.Lk)("button",{class:"btn btn-outline-danger",onClick:a[6]||(a[6]=(...e)=>V.resetFilters&&V.resetFilters(...e))},"Reset"),(0,s.Lk)("button",{class:"btn btn-outline-prime",onClick:a[7]||(a[7]=(...e)=>V.fetchItems&&V.fetchItems(...e))},"Apply")])])]),(0,s.Lk)("div",P,[a[39]||(a[39]=(0,s.Lk)("div",{class:"card-header"},"Materials Table",-1)),(0,s.Lk)("div",F,[(0,s.Lk)("div",X,[(0,s.Lk)("div",D,[(0,s.Lk)("div",M,[(0,s.bo)((0,s.Lk)("div",{class:"position-absolute top-100 start-0 w-100 shadow-sm border border-success rounded bg-light z-3 mt-2",onMousedown:a[8]||(a[8]=(0,o.D$)(()=>{},["prevent"]))},[a[35]||(a[35]=(0,s.Lk)("div",{class:"text-muted p-3 fw-bold small"},[(0,s.Lk)("i",{class:"bi bi-arrow-clockwise me-1 small"}),(0,s.eW)(" Recent Searches")],-1)),0===Q.recentSearches.length?((0,s.uX)(),(0,s.CE)("div",U,"No recent searches.")):(0,s.Q3)("",!0),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Q.recentSearches,(e,t)=>((0,s.uX)(),(0,s.CE)("div",{class:"hstack dropdown-item p-2 ps-3",key:t,onMousedown:(0,o.D$)(a=>V.selectRecent(e),["prevent"]),style:{cursor:"pointer"}},[(0,s.Lk)("p",N,(0,l.v_)(e.query),1),(0,s.Lk)("small",B,(0,l.v_)(V.timeAgo(e.time)),1),(0,s.Lk)("button",{type:"button",class:"btn small",onMousedown:(0,o.D$)(a=>V.removeRecent(e),["stop","prevent"])},a[34]||(a[34]=[(0,s.Lk)("i",{class:"bi bi-x"},null,-1)]),40,$)],40,R))),128))],544),[[o.aG,Q.dropDownRecentSearches]]),(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-control",placeholder:"Search",autocomplete:"off","onUpdate:modelValue":a[9]||(a[9]=e=>Q.params.query=e),onFocus:a[10]||(a[10]=e=>Q.dropDownRecentSearches=!0),onClick:a[11]||(a[11]=e=>Q.dropDownRecentSearches=!0),onBlur:a[12]||(a[12]=(...e)=>V.handleBlur&&V.handleBlur(...e)),onKeyup:a[13]||(a[13]=(0,o.jR)((...e)=>V.performSearch&&V.performSearch(...e),["enter"]))},null,544),[[o.Jo,Q.params.query]]),Q.params.query?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"btn position-absolute end-0 bottom-0",onClick:a[14]||(a[14]=e=>{Q.params.query="",V.fetchItems()})},a[36]||(a[36]=[(0,s.Lk)("i",{class:"bi bi-x"},null,-1)]))):(0,s.Q3)("",!0)]),(0,s.Lk)("button",{class:"btn btn-prime",onClick:a[15]||(a[15]=(...e)=>V.performSearch&&V.performSearch(...e))},a[37]||(a[37]=[(0,s.Lk)("i",{class:"bi bi-search me-2"},null,-1),(0,s.eW)("Search")])),(0,s.Lk)("button",{class:"btn btn-outline-secondary",onClick:a[16]||(a[16]=(...e)=>V.refresh&&V.refresh(...e))},a[38]||(a[38]=[(0,s.Lk)("i",{class:"bi bi-arrow-clockwise me-2"},null,-1),(0,s.eW)("Refresh")]))])]),(0,s.Lk)("div",q,[(0,s.bF)(z,{items:Q.items,loading:Q.fetchingItems,onSelectedItem:a[17]||(a[17]=e=>Q.d=e),onLoadMore:a[18]||(a[18]=e=>V.loadMore()),loadingMore:Q.loading_more,atLastPage:Q.disable_load_more},null,8,["items","loading","loadingMore","atLastPage"])])])])])])),(0,s.Lk)("footer",T,"Â© "+(0,l.v_)((new Date).getFullYear())+" Isabela State University | e-Libra",1)]),(0,s.Lk)("div",W,[(0,s.Lk)("div",Y,[(0,s.Lk)("div",j,[(0,s.bF)(G)])])]),(0,s.Lk)("div",O,[(0,s.bF)(H,{data:Q.d},null,8,["data"])])],64)}t(8111),t(2489);var Q=t(8082),V=t(3098);const J={class:"table table-hover mb-0 position-relative"},z={key:0,class:"text-center"},G={key:1,class:"text-center"},H=["onClick"],Z={scope:"row"},ee={class:"text-center"},ae={key:3,class:"text-center"},te={key:0,colspan:"3",class:"text-center"},se={key:1,colspan:"3",class:"text-center text-bg-primary"};function le(e,a,t,o,n,i){return(0,s.uX)(),(0,s.CE)("table",J,[a[6]||(a[6]=(0,s.Lk)("thead",{class:"table-light position-sticky top-0"},[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{scope:"col",style:{width:"50%"}},"Title"),(0,s.Lk)("th",{scope:"col",style:{width:"35%"}},"Identifier"),(0,s.Lk)("th",{scope:"col",class:"text-center",style:{width:"15%"}},"Year Published")])],-1)),(0,s.Lk)("tbody",null,[t.loading?((0,s.uX)(),(0,s.CE)("tr",z,a[1]||(a[1]=[(0,s.Lk)("td",{class:"loading",colspan:"3"},[(0,s.Lk)("img",{src:V,alt:"",width:"75"})],-1)]))):0==t.items.length?((0,s.uX)(),(0,s.CE)("tr",G,a[2]||(a[2]=[(0,s.Lk)("td",{colspan:"3",class:"loading p-5"},"No material found.",-1)]))):((0,s.uX)(!0),(0,s.CE)(s.FK,{key:2},(0,s.pI)(t.items,(a,t)=>((0,s.uX)(),(0,s.CE)("tr",{class:"",key:t,onClick:t=>e.$emit("selectedItem",a),style:{cursor:"pointer"}},[(0,s.Lk)("td",Z,(0,l.v_)(t+1+". "+a.title),1),(0,s.Lk)("td",null,(0,l.v_)(a.call_number),1),(0,s.Lk)("td",ee,(0,l.v_)(a.year_published),1)],8,H))),128)),t.atLastPage&&t.items.length>0?((0,s.uX)(),(0,s.CE)("tr",ae,a[3]||(a[3]=[(0,s.Lk)("td",{colspan:"3",class:"text-bg-success"},"You're already at the last page.",-1)]))):!t.loading&&t.items.length>0?((0,s.uX)(),(0,s.CE)("tr",{key:4,class:"",style:{cursor:"pointer"},onClick:a[0]||(a[0]=a=>e.$emit("loadMore"))},[t.loadingMore?((0,s.uX)(),(0,s.CE)("td",te,a[4]||(a[4]=[(0,s.Lk)("img",{src:V,alt:"",width:"50"},null,-1)]))):((0,s.uX)(),(0,s.CE)("td",se,a[5]||(a[5]=[(0,s.Lk)("i",{class:"bi bi-arrow-clockwise me-2"},null,-1),(0,s.eW)("Load More")])))])):(0,s.Q3)("",!0)])])}var oe={props:{atLastPage:Boolean,items:Array,loading:Boolean,loadingMore:Boolean}},ne=t(1241);const ie=(0,ne.A)(oe,[["render",le]]);var ce=ie;function re(e,a){return a[0]||(a[0]=(0,s.Fv)('<div class="modal-header"><h5 class="modal-title" id="modalTitleId">Select Location</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><div class="vtsack mb-3"><small class="text-muted"><span class="text-danger">Note. </span>Changing location details will change the materials list. Only those materials from your selected location will be shown.</small></div><div class="mb-3"><label for="campus" class="mb-2">Campus</label><select name="campus" id="campus" class="form-select"><option value="">All</option></select></div><div class="mb-3"><label for="branch" class="mb-2">Branch</label><select name="branch" id="branch" class="form-select"><option value="">All</option></select></div><div class="mb-3"><label for="section" class="mb-2">Section</label><select name="section" id="section" class="form-select"><option value="">All</option></select></div></div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button><button type="button" class="btn btn-primary">Apply</button></div>',3))}const de={},me=(0,ne.A)(de,[["render",re]]);var ue=me;const pe={class:"card-header hstack gap-2"},be={key:0,class:"modal-body text-center py-5 text-muted"},ke={class:"card-body hstack overflow-hidden p-0"},he={class:"vstack overflow-hidden overflow-y-auto p-4"},ve={class:"hstack mb-3"},Le={class:"hstack justify-content-center w-auto me-2",style:{height:"150px",width:"85px"}},fe=["src"],ge={class:"vstack p-2 align-items-start"},ye={class:"ps-0"},we={class:"text-muted mb-2"},_e={class:"fw-bold"},xe={class:"vstack gap-3 pb-5"},Ce={class:"mb-3"},Se={class:"row p-0 g-3"},Ee={class:"col-md-6"},Ie={class:"text-muted mb-2"},Ae={class:"col-md-6"},Pe={class:"text-muted mb-2"},Fe={class:"col-md-6"},Xe={class:"text-muted mb-2"},De={class:"col-md-6"},Me={class:"text-muted mb-2"},Ue={class:"col-md-6"},Re={class:"text-muted mb-2"},Ne={class:"col-md-6"},Be={class:"text-muted mb-2"},$e={class:"mb-3"},qe={class:"row p-0 g-3"},Te={class:"col-md-6"},We={class:"text-muted mb-2"},Ye={class:"col-md-6"},je={class:"text-muted mb-2"},Oe={class:"col-md-6"},Ke={class:"text-muted mb-2"},Qe={class:"col-md-6"},Ve={class:"text-muted mb-2"},Je={class:"mb-3"},ze={class:"row p-0 g-3"},Ge={class:"col-md-6"},He={class:"text-muted mb-2"},Ze={class:"col-md-6"},ea={class:"text-muted mb-2"},aa={class:"col-md-6"},ta={class:"text-muted mb-2"},sa={class:"mb-3"},la={class:"row p-0 g-3"},oa={key:0,class:"col-md-12"},na={class:"fw-bold"},ia={class:"text-muted mb-2"};function ca(e,a,t,o,n,i){return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",pe,[(0,s.Lk)("button",{class:"btn",onClick:a[0]||(a[0]=a=>e.$emit("back"))},a[1]||(a[1]=[(0,s.Lk)("i",{class:"bi bi-chevron-left"},null,-1)])),(0,s.eW)(" "+(0,l.v_)(n.d?.title||"Item")+"'s Details ",1)]),n.d&&n.d.id?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",be,a[2]||(a[2]=[(0,s.Lk)("i",{class:"bi bi-exclamation-circle display-6 d-block mb-3"},null,-1),(0,s.eW)(" No information available. ")]))),(0,s.Lk)("div",ke,[(0,s.Lk)("div",he,[(0,s.Lk)("div",ve,[(0,s.Lk)("div",Le,[(0,s.Lk)("img",{src:n.d?.picture||o.book_blank,alt:"Book Cover",class:"img-fluid rounded-3 border border-dark shadow-sm",style:{height:"90%","max-width":"auto","object-fit":"cover",cursor:"pointer"}},null,8,fe)]),(0,s.Lk)("div",ge,[(0,s.Lk)("div",ye,[(0,s.Lk)("p",we,(0,l.v_)(n.d?.item_type?.name),1),(0,s.Lk)("h2",_e,(0,l.v_)(n.d?.title||"Untitled Book"),1),(0,s.Lk)("p",null,(0,l.v_)(n.d?.remarks),1)]),a[3]||(a[3]=(0,s.Lk)("div",{class:"mt-auto mb-1 hstack gap-2"},[(0,s.Lk)("button",{class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#reserveModal"},[(0,s.Lk)("i",{class:"bi bi-book me-2"}),(0,s.eW)("Reserve")])],-1))])]),(0,s.Lk)("section",xe,[(0,s.Lk)("div",Ce,[a[10]||(a[10]=(0,s.Lk)("h6",{class:"fw-semibold mb-3 text-primary"},"General Information",-1)),(0,s.Lk)("div",Se,[(0,s.Lk)("div",Ee,[a[4]||(a[4]=(0,s.Lk)("small",{class:"fw-bold"},"Item Type",-1)),(0,s.Lk)("span",Ie,(0,l.v_)(i.wellFormed(n.d?.item_type?.name)||"Unknown"),1)]),(0,s.Lk)("div",Ae,[a[5]||(a[5]=(0,s.Lk)("small",{class:"fw-bold"},"Call Number",-1)),(0,s.Lk)("span",Pe,(0,l.v_)(n.d?.call_number||"Unknown"),1)]),(0,s.Lk)("div",Fe,[a[6]||(a[6]=(0,s.Lk)("small",{class:"fw-bold"},"Language",-1)),(0,s.Lk)("span",Xe,(0,l.v_)(n.d?.language?.name||"Unknown"),1)]),(0,s.Lk)("div",De,[a[7]||(a[7]=(0,s.Lk)("small",{class:"fw-bold"},"ISBN/ISSN",-1)),(0,s.Lk)("span",Me,(0,l.v_)(n.d?.isbn_issn||"Unknown"),1)]),(0,s.Lk)("div",Ue,[a[8]||(a[8]=(0,s.Lk)("small",{class:"fw-bold"},"Edition",-1)),(0,s.Lk)("span",Re,(0,l.v_)(n.d?.book?.edition||"Unknown"),1)]),(0,s.Lk)("div",Ne,[a[9]||(a[9]=(0,s.Lk)("small",{class:"fw-bold"},"Date Added",-1)),(0,s.Lk)("span",Be,(0,l.v_)(i.formatDate(n.d?.created_at)||"Unknown"),1)])])]),(0,s.Lk)("div",$e,[a[15]||(a[15]=(0,s.Lk)("h6",{class:"fw-semibold mb-3 text-primary"},"Publication Details",-1)),(0,s.Lk)("div",qe,[(0,s.Lk)("div",Te,[a[11]||(a[11]=(0,s.Lk)("small",{class:"fw-bold"},"Publisher",-1)),(0,s.Lk)("span",We,(0,l.v_)(i.wellFormed(n.d?.publisher?.name)||"Unknown"),1)]),(0,s.Lk)("div",Ye,[a[12]||(a[12]=(0,s.Lk)("small",{class:"fw-bold"},"Year Published",-1)),(0,s.Lk)("span",je,(0,l.v_)(n.d?.year_published||"Unknown"),1)]),(0,s.Lk)("div",Oe,[a[13]||(a[13]=(0,s.Lk)("small",{class:"fw-bold"},"Place of Publication",-1)),(0,s.Lk)("span",Ke,(0,l.v_)(n.d?.publisher?.address||"Unknown"),1)]),(0,s.Lk)("div",Qe,[a[14]||(a[14]=(0,s.Lk)("small",{class:"fw-bold"},"Address",-1)),(0,s.Lk)("span",Ve,(0,l.v_)(n.d?.publisher?.address||"Unknown"),1)])])]),(0,s.Lk)("div",Je,[a[19]||(a[19]=(0,s.Lk)("h6",{class:"fw-semibold mb-3 text-primary"},"Item's Location Details",-1)),(0,s.Lk)("div",ze,[(0,s.Lk)("div",Ge,[a[16]||(a[16]=(0,s.Lk)("small",{class:"fw-bold"},"Campus",-1)),(0,s.Lk)("span",He,(0,l.v_)(n.d?.accession?.[0]?.branch?.campus.name||"Unknown"),1)]),(0,s.Lk)("div",Ze,[a[17]||(a[17]=(0,s.Lk)("small",{class:"fw-bold"},"Library Branch",-1)),(0,s.Lk)("span",ea,(0,l.v_)(n.d?.accession?.[0]?.branch?.name||"Unknown"),1)]),(0,s.Lk)("div",aa,[a[18]||(a[18]=(0,s.Lk)("small",{class:"fw-bold"},"Address",-1)),(0,s.Lk)("span",ta,(0,l.v_)(n.d?.accession?.[0]?.branch?.campus?.address||"Unknown"),1)])])]),(0,s.Lk)("div",sa,[a[21]||(a[21]=(0,s.Lk)("h6",{class:"fw-semibold mb-3 text-primary"},"Authors",-1)),(0,s.Lk)("div",la,[n.d?.authors?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(n.d.authors,(e,a)=>((0,s.uX)(),(0,s.CE)("div",{class:"col-md-6",key:a},[(0,s.Lk)("small",na,"Author "+(0,l.v_)(a+1),1),(0,s.Lk)("span",ia,(0,l.v_)(i.wellFormed(e.author?.name)),1)]))),128)):((0,s.uX)(),(0,s.CE)("div",oa,a[20]||(a[20]=[(0,s.Lk)("span",{class:"text-muted mb-2"},"Unknown",-1)])))])])])])])],64)}var ra=t(4860),da=t(5719),ma={props:{data:Object},setup(){return{book_blank:ra}},data(){return{d:this.data}},methods:{wellFormed:da.ES,formatDate:da.Yq}};const ua=(0,ne.A)(ma,[["render",ca],["__scopeId","data-v-28671e37"]]);var pa=ua;const ba={class:"modal-dialog modal-dialog-scrollable modal-dialog-centered modal-md"},ka={class:"modal-content border-0 shadow-lg rounded-3"},ha={class:"modal-body p-4"},va={class:"hstack align-items-start justify-content-start"},La={class:"hstack justify-content-between mb-4"},fa={class:"vstack justify-content-start align-items-start"},ga={class:"fw-bold"},ya={class:"vstack"},wa={key:0},_a={class:"mt-3 vstack gap-3"},xa={class:"text-center"},Ca={key:1},Sa={class:"table table-hover table-bordered text-center"},Ea=["onClick"],Ia={class:"text-start"},Aa={class:"text-capitalize"},Pa={class:"hstack justify-content-end"},Fa=["disabled"],Xa={key:2},Da={class:"row g-2 mb-4"},Ma={class:"col-md-6"},Ua={class:"col-md-6"},Ra={class:"col-md-6 text-capitalize"},Na={class:"col-md-6"},Ba={class:"row g-2 mb-4"},$a={class:"col-md-6"},qa={class:"col-md-6"},Ta={class:"col-md-6"},Wa={class:"hstack justify-content-end mt-3 gap-2"};function Ya(e,a,t,o,n,i){const c=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",ba,[(0,s.Lk)("div",ka,[(0,s.Lk)("div",ha,[(0,s.Lk)("div",va,[(0,s.Lk)("div",La,[(0,s.Lk)("div",fa,[(0,s.Lk)("h4",ga,(0,l.v_)(1===n.page?"Reservation Page":2===n.page?"Select a Copy":"Confirm Reservation"),1),(0,s.Lk)("small",null,(0,l.v_)(1===n.page?"Login using your account to reserve an item from the libraries.":2===n.page?"Select a "+t.data?.title+" variant to reserve.":"Please confirm and make sure the below details is correct."),1)])]),(0,s.Lk)("button",{type:"button",class:"btn-close ms-auto","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[0]||(a[0]=e=>i.changePage(1))})]),(0,s.Lk)("div",ya,[1===n.page?((0,s.uX)(),(0,s.CE)("div",wa,[a[6]||(a[6]=(0,s.Fv)('<div class="mb-3" data-v-43309350><label for="reservation_user" class="form-label" data-v-43309350>Username/ID Number/Email</label><input type="text" id="reservation_user" class="form-control" autocomplete="new-password" data-v-43309350></div><div class="mb-3" data-v-43309350><label for="user-secret" data-v-43309350>Password</label><input type="password" id="user-secret" name="user-secret" class="form-control" autocomplete="one-time-code" data-v-43309350></div>',2)),(0,s.Lk)("div",_a,[(0,s.Lk)("button",{class:"btn btn-success",onClick:a[1]||(a[1]=e=>i.changePage(2))},"Login"),(0,s.Lk)("span",xa,[a[5]||(a[5]=(0,s.eW)("Doesn't have an account yet? ")),(0,s.bF)(c,{to:{name:"register"},class:"text-success"},{default:(0,s.k6)(()=>a[4]||(a[4]=[(0,s.eW)("Create an account")])),_:1,__:[4]})])])])):(0,s.Q3)("",!0),2===n.page?((0,s.uX)(),(0,s.CE)("div",Ca,[(0,s.Lk)("table",Sa,[a[7]||(a[7]=(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("td",null,"Copy No."),(0,s.Lk)("td",{class:"text-start"},"Accession Number"),(0,s.Lk)("td",null,"Status")])],-1)),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.data?.accession,(e,a)=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,style:{cursor:"pointer"},onClick:a=>i.selectAccession(e),class:(0,l.C4)({"table-success":n.selectedAccession?.id===e.id})},[(0,s.Lk)("td",null,(0,l.v_)(a+1),1),(0,s.Lk)("td",Ia,(0,l.v_)(e.accession_number),1),(0,s.Lk)("td",Aa,(0,l.v_)(e.status),1)],10,Ea))),128))])]),(0,s.Lk)("div",Pa,[(0,s.Lk)("button",{class:"btn btn-success",disabled:!n.selectedAccession?.id,onClick:a[2]||(a[2]=e=>i.changePage(3))},"Confirm",8,Fa)])])):(0,s.Q3)("",!0),3===n.page?((0,s.uX)(),(0,s.CE)("div",Xa,[(0,s.Lk)("div",Da,[a[8]||(a[8]=(0,s.Lk)("small",{class:"col-md-12 fw-bold text-success"},"Patron's Information",-1)),a[9]||(a[9]=(0,s.Lk)("div",{class:"col-md-6 label"},"Name",-1)),(0,s.Lk)("div",Ma,(0,l.v_)(n.patron?.name),1),a[10]||(a[10]=(0,s.Lk)("div",{class:"col-md-6 label"},"Email",-1)),(0,s.Lk)("div",Ua,(0,l.v_)(n.patron?.email),1),a[11]||(a[11]=(0,s.Lk)("div",{class:"col-md-6 label"},"Patron Type",-1)),(0,s.Lk)("div",Ra,(0,l.v_)(n.patron?.type),1),a[12]||(a[12]=(0,s.Lk)("div",{class:"col-md-6 label"},"e-Borrower's Card",-1)),(0,s.Lk)("div",Na,(0,l.v_)(n.patron?.ebc),1)]),(0,s.Lk)("div",Ba,[a[13]||(a[13]=(0,s.Lk)("small",{class:"col-md-12 fw-bold text-success"},"Item's Information",-1)),a[14]||(a[14]=(0,s.Lk)("div",{class:"col-md-6 label"},"Name",-1)),(0,s.Lk)("div",$a,(0,l.v_)(t.data?.title),1),a[15]||(a[15]=(0,s.Lk)("div",{class:"col-md-6 label"},"Accession Number",-1)),(0,s.Lk)("div",qa,(0,l.v_)(n.selectedAccession?.accession_number),1),a[16]||(a[16]=(0,s.Lk)("div",{class:"col-md-6 label"},"Price",-1)),(0,s.Lk)("div",Ta,(0,l.v_)(n.selectedAccession?.price||new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(0)),1)]),(0,s.Lk)("div",Wa,[(0,s.Lk)("button",{class:"btn btn-danger",onClick:a[3]||(a[3]=e=>i.changePage(2))},"Back"),a[17]||(a[17]=(0,s.Lk)("button",{class:"btn btn-success"},"Confirm",-1))])])):(0,s.Q3)("",!0)])])])])}var ja={props:{bookId:Number,data:Object},data(){return{page:1,patron:{name:"Patron's Name",ebc:"ISUE-09560964897",type:"Student",email:"email@example.isu.edu.ph"},selectedAccession:null}},methods:{changePage(e){this.page=e},selectAccession(e){this.selectedAccession?.id==e.id?this.selectedAccession=null:this.selectedAccession=e}}};const Oa=(0,ne.A)(ja,[["render",Ya],["__scopeId","data-v-43309350"]]);var Ka=Oa,Qa=t(3973),Va=t(4986),Ja={name:"OPAC",components:{ListPage:ce,LocationSelectionModal:ue,InformationPage:pa,ReservationPage:Ka},data(){return{campus:{name:"Echague"},recentSearches:[],dropDownRecentSearches:!1,items:[],d:{},fetchingItems:!1,next_page:null,last_page:null,loading_more:!1,disable_load_more:!1,params:{query:"",campus_id:"",branch_id:"",section_id:"",year_to:"",year_from:"",sort:"title",order:"asc",type:"",page:1},item_types:[],yearRange:Array.from({length:100},(e,a)=>(new Date).getFullYear()-a),fromYear:Array.from({length:100},(e,a)=>(new Date).getFullYear()-a)}},methods:{timeAgo:da.fF,performSearch(){this.saveRecentSearch(this.params.query),this.fetchItems(),this.dropDownRecentSearches=!1},async loadMore(){this.loading_more=!0;const e=await Q.A.get("api/opac",{params:{...this.params,page:this.next_page}});this.loading_more=!1,this.items=[...this.items,...e.data.data],this.last_page=e.data.last_page,this.next_page+=1},async fetchItems(){this.fetchingItems=!0,this.items=[],this.params.page=1;try{const e=await Q.A.get("api/opac",{params:{...this.params}});this.next_page=2,this.last_page=e.data.last_page,this.items=e.data.data}catch(e){console.error(e.message)}this.fetchingItems=!1},async fetchEverythingForFiltering(){this.item_types=Va.mU},async refresh(){const e=await(0,Qa.l)({title:"Refresh",message:"This will remove all filters. Proceed?"});e&&(this.params={query:"",campus_id:"",branch_id:"",section_id:"",year_to:"",year_from:"",sort:"title",order:"asc"},this.fetchItems())},resetFilters(){this.params.to="",this.params.from="",this.params.sort="title",this.params.order="asc"},saveRecentSearch(e){if(!e||!e.trim())return;let a=JSON.parse(localStorage.getItem("recentSearches")||"[]");a=a.filter(a=>a.query!==e),a.unshift({query:e,time:(new Date).toISOString()}),a.length>10&&a.pop(),localStorage.setItem("recentSearches",JSON.stringify(a)),this.recentSearches=a},selectRecent(e){this.params.query=e.query,this.performSearch()},async removeRecent(e){const a=await(0,Qa.l)({title:"Remove?",message:`Remove ${e.query}?`});a&&(this.recentSearches=this.recentSearches.filter(a=>a!==e),localStorage.setItem("recentSearches",JSON.stringify(this.recentSearches)))},handleBlur(){setTimeout(()=>{this.dropDownRecentSearches=!1},120)}},watch:{next_page(){this.next_page>this.last_page&&(this.disable_load_more=!0)}},mounted(){this.recentSearches=JSON.parse(localStorage.getItem("recentSearches")||"[]"),this.fetchItems(),this.fetchEverythingForFiltering()}};const za=(0,ne.A)(Ja,[["render",K],["__scopeId","data-v-dce4ee62"]]);var Ga=za}}]);
//# sourceMappingURL=8555.455e078c.js.map