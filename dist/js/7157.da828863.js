"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[7157],{3973:function(e,t,a){a.d(t,{l:function(){return i}});var l=a(4874),n=a.n(l);const i=async({title:e,message:t})=>n().fire({title:e,text:t,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(e=>e.isConfirmed)},4860:function(e,t,a){e.exports=a.p+"img/book_blank.e501f7df.png"},4986:function(e,t,a){a.d(t,{LZ:function(){return n},jk:function(){return i},mU:function(){return l}});const l={audio:{id:"audio",name:"Audio"},book:{id:"book",name:"Book"},dissertation:{id:"dissertation",name:"Dissertation"},electronic:{id:"electronic",name:"Electronic"},newspaper:{id:"newspaper",name:"Newspaper Clippings"},periodical:{id:"periodical",name:"Periodical"},serial:{id:"serial",name:"Serial"},thesis:{id:"thesis",name:"Thesis"},vertical:{id:"vertical",name:"Vertical"}},n={encyclopedia:{id:"encyclopedia",name:"Encyclopedia"},english:{id:"english",name:"English"},filipiniana:{id:"filipiniana",name:"Filipiniana"},fiction:{id:"fiction",name:"Fiction"},general:{id:"general",name:"General"},math:{id:"math",name:"Math"},novel:{id:"novel",name:"Novel"},references:{id:"references",name:"References"},science:{id:"science",name:"Science"},textbook:{id:"textbook",name:"Textbook"}},i={purchased:{id:"purchased",name:"Purchased"},gift:{id:"gift",name:"Gift"},donated:{id:"donated",name:"Donated"},exchange:{id:"exchange",name:"Exchange"}}},5719:function(e,t,a){a.d(t,{ES:function(){return l},KY:function(){return c},Sn:function(){return n},Yq:function(){return s},fF:function(){return o},sL:function(){return i}});a(8111),a(1701);const l=e=>e?e.charAt(0).toUpperCase()+e.slice(1):null,n=e=>e.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),i=e=>{if(console.log(e),!e)return"-";const t=new Date(e);return t.toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"})},s=e=>{if(!e)return null;const t=new Date(e);return t.toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},o=e=>{if(!e)return null;const t=new Date,a=new Date(e),l=Math.floor((t-a)/1e3);return l<60?`${l} sec${1!==l?"s":""} ago`:l<3600?`${Math.floor(l/60)} min${1!==Math.floor(l/60)?"s":""} ago`:l<86400?`${Math.floor(l/3600)} hr${1!==Math.floor(l/3600)?"s":""} ago`:`${Math.floor(l/86400)} day${1!==Math.floor(l/86400)?"s":""} ago`},c=e=>{if(!e)return"N/A";const[t,a]=e.split(":").map(Number),l=t>=12?"PM":"AM",n=t%12||12;return`${n}:${a.toString().padStart(2,"0")} ${l}`}},7157:function(e,t,a){a.r(t),a.d(t,{default:function(){return oe}});var l=a(6768),n=a(4232),i=a(5130);const s={class:"w-100 h-100 vstack overflow-hidden"},o={key:0,class:"card w-100 mb-2"},c={class:"card-body hstack gap-2 justify-content-end"},d={key:1,class:"card w-100 h-100 overflow-hidden"},r={class:"card-body overflow-auto p-0"},u={class:"table table-hover table-striped mb-0 text-center"},m={key:0},k={key:1},f=["onClick"],h=["onClick"],b={class:"card-footer hstack gap-2 justify-content-between"},p={class:"hstack gap-2",style:{width:"fit-content"}},v=["value"],L={class:"hstack gap-2",style:{width:"fit-content"}},g={key:2,class:"card h-100 w-100"},y={class:"modal fade",id:"catalogFilter",tabindex:"-1","data-bs-backdrop":"static","data-bs-keyboard":"false",role:"dialog","aria-labelledby":"modalTitleId","aria-hidden":"true"},w={class:"modal-dialog modal-dialog-scrollable modal-dialog-centered",role:"document"},C={class:"modal-content"},_={class:"modal-body"},I={class:"mb-3"},x={class:"form-select",id:"filterCategory"},D=["value"];function E(e,t,a,E,S,A){const F=(0,l.g2)("router-link"),X=(0,l.g2)("item-information");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",s,[S.showDetails?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",o,[t[9]||(t[9]=(0,l.Lk)("div",{class:"card-header"},"Data Management",-1)),(0,l.Lk)("div",c,[t[7]||(t[7]=(0,l.Lk)("button",{class:"btn btn-outline-secondary me-auto","data-bs-toggle":"modal","data-bs-target":"#catalogFilter"},[(0,l.Lk)("i",{class:"bi bi-sliders"}),(0,l.eW)(" Filters")],-1)),t[8]||(t[8]=(0,l.Lk)("input",{type:"search",name:"search",id:"search",class:"form-control w-50",placeholder:"Search..."},null,-1)),(0,l.bF)(F,{to:{name:"LibrarianAddNewCataloging"},class:"btn btn-outline-success"},{default:(0,l.k6)(()=>t[5]||(t[5]=[(0,l.eW)("Add New Item")])),_:1,__:[5]}),(0,l.Lk)("button",{class:"btn btn-outline-secondary",onClick:t[0]||(t[0]=e=>A.fetchItems(!0))},t[6]||(t[6]=[(0,l.Lk)("i",{class:"bi bi-clockwise"},null,-1),(0,l.eW)("Refresh")]))])])),S.showDetails?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",d,[t[17]||(t[17]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("div",{class:"hstack"},"All Library Items")],-1)),(0,l.Lk)("div",r,[(0,l.Lk)("table",u,[t[12]||(t[12]=(0,l.Lk)("thead",{class:"table-light"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"No"),(0,l.Lk)("th",null,"Title"),(0,l.Lk)("th",null,"Year Published"),(0,l.Lk)("th",null,"Call Number"),(0,l.Lk)("th",null,"Item Type"),(0,l.Lk)("th",null,"Action")])],-1)),(0,l.Lk)("tbody",null,[S.fetching?((0,l.uX)(),(0,l.CE)("tr",m,t[10]||(t[10]=[(0,l.Lk)("td",{colspan:"6"},"Loading, please wait...",-1)]))):S.data&&S.data.length<=0?((0,l.uX)(),(0,l.CE)("tr",k,t[11]||(t[11]=[(0,l.Lk)("td",{colspan:"6"},"No data found.",-1)]))):((0,l.uX)(!0),(0,l.CE)(l.FK,{key:2},(0,l.pI)(S.data,(e,t)=>((0,l.uX)(),(0,l.CE)("tr",{class:"clickable",key:e.id,onClick:t=>A.viewThisItem(e)},[(0,l.Lk)("td",null,(0,n.v_)(t+1),1),(0,l.Lk)("td",null,(0,n.v_)(e.title),1),(0,l.Lk)("td",null,(0,n.v_)(e.year_published),1),(0,l.Lk)("td",null,(0,n.v_)(e.call_number),1),(0,l.Lk)("td",null,(0,n.v_)(S.types[e.item_type].name),1),(0,l.Lk)("td",null,[(0,l.Lk)("button",{class:"btn btn-sm btn-primary",onClick:t=>A.viewThisItem(e)},"Full Details",8,h)])],8,f))),128))])])]),(0,l.Lk)("div",b,[(0,l.Lk)("div",p,[t[13]||(t[13]=(0,l.Lk)("span",null,"Show Page",-1)),(0,l.bo)((0,l.Lk)("select",{name:"page",id:"page",class:"form-select w-auto","onUpdate:modelValue":t[1]||(t[1]=e=>S.params.page=e),onChange:t[2]||(t[2]=(...e)=>A.fetchItems&&A.fetchItems(...e))},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(S.pages,(e,t)=>((0,l.uX)(),(0,l.CE)("option",{value:t+1,key:e},(0,n.v_)(e),9,v))),128))],544),[[i.u1,S.params.page]])]),(0,l.Lk)("div",L,[t[15]||(t[15]=(0,l.Lk)("span",null,"Show",-1)),(0,l.bo)((0,l.Lk)("select",{name:"page",id:"page",class:"form-select w-auto","onUpdate:modelValue":t[3]||(t[3]=e=>S.params.entries=e),onChange:t[4]||(t[4]=(...e)=>A.fetchItems&&A.fetchItems(...e))},t[14]||(t[14]=[(0,l.Lk)("option",{value:"25"},"25",-1),(0,l.Lk)("option",{value:"75"},"75",-1),(0,l.Lk)("option",{value:"150"},"150",-1),(0,l.Lk)("option",{value:"250"},"250",-1)]),544),[[i.u1,S.params.entries]]),t[16]||(t[16]=(0,l.Lk)("span",null,"entries",-1))])])])),S.showDetails?((0,l.uX)(),(0,l.CE)("div",g,[(0,l.bF)(X,{thisItem:S.selectedItem,onBack:A.showItemDetails},null,8,["thisItem","onBack"])])):(0,l.Q3)("",!0)]),t[23]||(t[23]=(0,l.Fv)('<div class="modal fade" id="addNewItem" data-bs-backdrop="static" data-v-65f9c4f0><div class="modal-dialog" data-v-65f9c4f0><div class="modal-content" data-v-65f9c4f0><div class="modal-header" data-v-65f9c4f0><h1 class="modal-title fs-5" id="staticBackdropLabel" data-v-65f9c4f0>Modal title</h1><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" data-v-65f9c4f0></button></div></div></div></div>',1)),(0,l.Lk)("div",y,[(0,l.Lk)("div",w,[(0,l.Lk)("div",C,[t[21]||(t[21]=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h5",{class:"modal-title",id:"modalTitleId"},"Catalog Filters"),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),(0,l.Lk)("div",_,[(0,l.Lk)("div",I,[t[19]||(t[19]=(0,l.Lk)("label",{for:"filterCategory",class:"form-label"},"Type",-1)),(0,l.Lk)("select",x,[t[18]||(t[18]=(0,l.Lk)("option",{value:""},"All",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(S.types,e=>((0,l.uX)(),(0,l.CE)("option",{value:e.id,key:e.id},(0,n.v_)(e.name),9,D))),128))])]),t[20]||(t[20]=(0,l.Fv)('<div class="mb-3" data-v-65f9c4f0><label for="filterPrice" class="form-label" data-v-65f9c4f0>Price Range</label><div class="d-flex gap-2" data-v-65f9c4f0><input type="number" class="form-control" id="minPrice" placeholder="Min" data-v-65f9c4f0><input type="number" class="form-control" id="maxPrice" placeholder="Max" data-v-65f9c4f0></div></div><div class="mb-3" data-v-65f9c4f0><label class="form-label" data-v-65f9c4f0>Availability</label><div class="form-check" data-v-65f9c4f0><input class="form-check-input" type="checkbox" id="inStock" data-v-65f9c4f0><label class="form-check-label" for="inStock" data-v-65f9c4f0>In Stock</label></div><div class="form-check" data-v-65f9c4f0><input class="form-check-input" type="checkbox" id="preOrder" data-v-65f9c4f0><label class="form-check-label" for="preOrder" data-v-65f9c4f0>Pre-order</label></div></div><div class="mb-3" data-v-65f9c4f0><label for="filterRating" class="form-label" data-v-65f9c4f0>Minimum Rating</label><select class="form-select" id="filterRating" data-v-65f9c4f0><option value="" data-v-65f9c4f0>Any</option><option value="1" data-v-65f9c4f0>★ and up</option><option value="2" data-v-65f9c4f0>★★ and up</option><option value="3" data-v-65f9c4f0>★★★ and up</option><option value="4" data-v-65f9c4f0>★★★★ and up</option></select></div>',3))]),t[22]||(t[22]=(0,l.Lk)("div",{class:"modal-footer"},[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close"),(0,l.Lk)("button",{type:"button",class:"btn btn-primary"},"Apply")],-1))])])])],64)}const S={class:"hstack p-3 gap-2 border-bottom"},A={class:"hstack gap-3 me-auto"},F={class:"mb-0"},X={key:0,class:"hstack p-2 h-100 overflow-hidden"},P={class:"h-100 p-3",style:{"max-width":"200px"}},M={class:"border overflow-auto border-success rounded-2"},N=["src"],T={class:"vstack gap-1 w-100 h-100 px-2 p-3 overflow-auto"},$={class:"fw-bold"},U={class:"w-100 mt-4"},W={class:"table table-hover clickable"},B={class:"w-100 mt-4"},K={class:"table table-hover clickable"},R={class:"w-100 mt-4"},Y={class:"table table-hover clickable"},j={key:0},O={class:"text-capitalize"},V={class:"w-100 mt-4"},G={key:1,class:"text-center py-5 text-muted"};function Q(e,t,a,s,o,c){return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("nav",S,[(0,l.Lk)("div",A,[(0,l.Lk)("button",{class:"btn btn-outline-secondary",onClick:t[0]||(t[0]=e=>this.$emit("back",!1))},t[3]||(t[3]=[(0,l.Lk)("i",{class:"bi bi-chevron-left"},null,-1)])),(0,l.Lk)("h4",F,(0,n.v_)(o.item?.title),1)]),t[4]||(t[4]=(0,l.Lk)("button",{class:"btn btn-outline-primary"},"Update Information",-1)),(0,l.Lk)("button",{class:"btn btn-danger",onClick:t[1]||(t[1]=e=>c.deleteItem(o.item?.title))},"Delete")]),o.item?((0,l.uX)(),(0,l.CE)("div",X,[(0,l.Lk)("div",P,[(0,l.Lk)("div",M,[(0,l.Lk)("img",{src:o.item.cover||s.book_blank,alt:"Resource Cover",width:"100%",height:"auto"},null,8,N)])]),(0,l.Lk)("div",T,[(0,l.Lk)("h1",$,(0,n.v_)(o.item?.title),1),(0,l.Lk)("p",null,[t[5]||(t[5]=(0,l.Lk)("span",{class:"fw-bold"},"Description:",-1)),(0,l.eW)(" "+(0,n.v_)(o.item?.description),1)]),(0,l.Lk)("div",U,[t[15]||(t[15]=(0,l.Lk)("h5",{class:"text-primary"},[(0,l.Lk)("i",{class:"bi bi-exclamation-circle me-2"}),(0,l.eW)("Information")],-1)),(0,l.Lk)("table",W,[(0,l.Lk)("tbody",null,[(0,l.Lk)("tr",null,[t[6]||(t[6]=(0,l.Lk)("th",null,"Title",-1)),(0,l.Lk)("td",null,(0,n.v_)(o.item?.title||"Unknown"),1)]),(0,l.Lk)("tr",null,[t[7]||(t[7]=(0,l.Lk)("th",null,"ISSN/ISBN",-1)),(0,l.Lk)("td",null,(0,n.v_)(o.item?.isbn_issn||"-"),1)]),(0,l.Lk)("tr",null,[t[8]||(t[8]=(0,l.Lk)("th",null,"Edition",-1)),(0,l.Lk)("td",null,(0,n.v_)(o.item?.edition||"-"),1)]),(0,l.Lk)("tr",null,[t[9]||(t[9]=(0,l.Lk)("th",null,"Call Number",-1)),(0,l.Lk)("td",null,(0,n.v_)(o.item?.call_number||"-"),1)]),(0,l.Lk)("tr",null,[t[10]||(t[10]=(0,l.Lk)("th",null,"Item Type",-1)),(0,l.Lk)("td",null,(0,n.v_)(o.item?.item_type?.name||"-"),1)]),(0,l.Lk)("tr",null,[t[11]||(t[11]=(0,l.Lk)("th",null,"Language",-1)),(0,l.Lk)("td",null,(0,n.v_)(o.item?.language?.name||"-"),1)]),(0,l.Lk)("tr",null,[t[12]||(t[12]=(0,l.Lk)("th",null,"Date Added",-1)),(0,l.Lk)("td",null,(0,n.v_)(c.formatDate(o.item?.created_at)||"-"),1)]),(0,l.Lk)("tr",null,[t[13]||(t[13]=(0,l.Lk)("th",null,"Last Modified",-1)),(0,l.Lk)("td",null,(0,n.v_)(c.formatDate(o.item?.updated_at)||"-"),1)]),(0,l.Lk)("tr",null,[t[14]||(t[14]=(0,l.Lk)("th",null,"Date Deleted",-1)),(0,l.Lk)("td",null,(0,n.v_)(c.formatDate(o.item?.deleted_at)||"-"),1)])])])]),(0,l.Lk)("div",B,[t[19]||(t[19]=(0,l.Lk)("h5",{class:"text-primary"},[(0,l.Lk)("i",{class:"bi bi-buildings me-2"}),(0,l.eW)("Publication")],-1)),(0,l.Lk)("table",K,[(0,l.Lk)("tbody",null,[(0,l.Lk)("tr",null,[t[16]||(t[16]=(0,l.Lk)("th",null,"Publisher",-1)),(0,l.Lk)("td",null,(0,n.v_)(o.item?.publisher?.name||"-"),1)]),(0,l.Lk)("tr",null,[t[17]||(t[17]=(0,l.Lk)("th",null,"Place of Publication",-1)),(0,l.Lk)("td",null,(0,n.v_)(o.item?.publisher?.address||"-"),1)]),(0,l.Lk)("tr",null,[t[18]||(t[18]=(0,l.Lk)("th",null,"Year Published",-1)),(0,l.Lk)("td",null,(0,n.v_)(o.item?.year_published||"-"),1)])])])]),(0,l.Lk)("div",R,[t[21]||(t[21]=(0,l.Lk)("h5",{class:"text-primary"},[(0,l.Lk)("i",{class:"bi bi-feather me-2"}),(0,l.eW)("Ownership")],-1)),(0,l.Lk)("table",Y,[(0,l.Lk)("tbody",null,[o.item.authors?.length?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:1},(0,l.pI)(o.item?.authors,(e,t)=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("th",null,"Owner "+(0,n.v_)(t+1),1),(0,l.Lk)("td",null,[(0,l.eW)((0,n.v_)(e.name)+" ",1),(0,l.Lk)("span",O,"("+(0,n.v_)(e.pivot.authorship)+")",1)])]))),128)):((0,l.uX)(),(0,l.CE)("tr",j,t[20]||(t[20]=[(0,l.Lk)("td",{colspan:"2"},"No Authors for this item",-1)])))])])]),(0,l.Lk)("div",V,[t[22]||(t[22]=(0,l.Lk)("h5",{class:"text-primary"},[(0,l.Lk)("i",{class:"bi bi-pen me-2"}),(0,l.eW)("Description")],-1)),(0,l.bo)((0,l.Lk)("textarea",{class:"form-control",name:"description",id:"description",style:{"max-height":"300px",resize:"none"},"onUpdate:modelValue":t[2]||(t[2]=e=>o.item.description=e),readonly:""},null,512),[[i.Jo,o.item.description]])])])])):((0,l.uX)(),(0,l.CE)("section",G,t[23]||(t[23]=[(0,l.Lk)("i",{class:"bi bi-book fs-1 mb-3 d-block opacity-50"},null,-1),(0,l.Lk)("p",{class:"mb-0 fs-5"},"No item selected",-1)])))],64)}var q=a(4860),z=a(3973),H=a(5719),J={name:"SelectedItemCard",props:{thisItem:{type:Object,default:null}},emits:["back"],setup(){return{book_blank:q}},data(){return{item:this.thisItem||{remarks:""}}},methods:{formatDate:H.Yq,deleteItem(e){const t=(0,z.l)({title:"Delete",message:`Are you sure you want to delete ${e}?`});t&&console.log(t)}}},Z=a(1241);const ee=(0,Z.A)(J,[["render",Q],["__scopeId","data-v-150b0153"]]);var te=ee,ae=a(445),le=a(2994),ne=a(4986),ie={created(){this.fetchItems()},components:{ItemInformation:te},data(){return{fetching:!1,data:null,showDetails:!1,selectedItem:null,types:ne.mU,params:{page:1,entries:25,paginate:!0},pages:null}},methods:{showItemDetails(e){this.showDetails=e},viewThisItem(e){this.showItemDetails(!0),this.selectedItem=e},async fetchItems(e=!1){this.fetching=!0,e&&(le.IG.items=null);try{const e=await(0,le.JS)(this.params);this.data=e.data,this.pages=e.last_page,console.log(this.data)}catch(t){(0,ae.w)({status:"error",title:"Error",message:t.message})}finally{this.fetching=!1}}}};const se=(0,Z.A)(ie,[["render",E],["__scopeId","data-v-65f9c4f0"]]);var oe=se}}]);
//# sourceMappingURL=7157.da828863.js.map