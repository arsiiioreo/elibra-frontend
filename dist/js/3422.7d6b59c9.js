"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[3422],{3098:function(t,e,n){t.exports=n.p+"img/spinner.42b4388c.gif"},3422:function(t,e,n){n.r(e),n.d(e,{default:function(){return b}});var a=n(6768),l=n(5130),r=n(4232),s=n(3098);const u={class:"card w-100 h-100 overflow-hidden"},d={class:"card-header hstack justify-content-between"},o={class:"card-body overflow-auto p-0"},c={class:"table table-hoverable table-bordered table-striped"},i={key:0},k={key:1};function L(t,e,n,L,h,m){return(0,a.uX)(),(0,a.CE)("div",u,[(0,a.Lk)("div",d,[e[1]||(e[1]=(0,a.Lk)("span",null,"Patron Attendance Logs ",-1)),(0,a.Lk)("div",null,[(0,a.bo)((0,a.Lk)("input",{type:"search",name:"search",id:"search",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>h.params.name=t)},null,512),[[l.Jo,h.params.name]])])]),(0,a.Lk)("div",o,[(0,a.Lk)("table",c,[e[4]||(e[4]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("td",null,"No."),(0,a.Lk)("td",null,"Last Name"),(0,a.Lk)("td",null,"First Name"),(0,a.Lk)("td",null,"ID Number"),(0,a.Lk)("td",null,"Description"),(0,a.Lk)("td",null,"Group"),(0,a.Lk)("td",null,"Gender"),(0,a.Lk)("td",null,"Location"),(0,a.Lk)("td",null,"Time In")])],-1)),(0,a.Lk)("tbody",null,[h.fetching?((0,a.uX)(),(0,a.CE)("tr",i,e[2]||(e[2]=[(0,a.Lk)("td",{class:"text-center",colspan:"8"},[(0,a.Lk)("img",{src:s,alt:"",width:"75"})],-1)]))):h.users?((0,a.uX)(!0),(0,a.CE)(a.FK,{key:2},(0,a.pI)(h.users,(t,e)=>((0,a.uX)(),(0,a.CE)("tr",{key:e},[(0,a.Lk)("td",null,(0,r.v_)(e+1),1),(0,a.Lk)("td",null,(0,r.v_)(t.patron?.user?.last_name),1),(0,a.Lk)("td",null,(0,r.v_)(t.patron?.user?.first_name),1),(0,a.Lk)("td",null,(0,r.v_)(t.patron?.id_number),1),(0,a.Lk)("td",null,(0,r.v_)(t.description),1),(0,a.Lk)("td",null,(0,r.v_)(t.group),1),(0,a.Lk)("td",null,(0,r.v_)(t.gender),1),(0,a.Lk)("td",null,(0,r.v_)(t.branch?.name),1),(0,a.Lk)("td",null,(0,r.v_)(t.created_at),1)]))),128)):((0,a.uX)(),(0,a.CE)("tr",k,e[3]||(e[3]=[(0,a.Lk)("td",{class:"text-center",colspan:"8"},"No data found.",-1)])))])])])])}var h=n(8082),m={created(){this.fetchLogs()},data(){return{users:null,timer:null,fetching:!1,params:{name:""}}},watch:{"params.name"(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.fetchLogs()},100)}},methods:{async fetchLogs(){this.fetching=!0,this.users=null;try{const t=await h.A.get("api/patron/logs",{params:{branch_id:localStorage.getItem("branch_id")}});this.users=t.data.data}finally{this.fetching=!1}}}},p=n(1241);const f=(0,p.A)(m,[["render",L]]);var b=f}}]);
//# sourceMappingURL=3422.7d6b59c9.js.map