"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[7523],{7523:function(t,e,a){a.r(e),a.d(e,{default:function(){return v}});var l=a(6768),n=a(5130),s=a(4232);const o={class:"d-flex justify-content-between align-items-center mb-4"},r={class:"input-group w-50"},u={class:"hstack gap-1"},i={class:"table table-bordered table-hover"},c={key:0};function f(t,e,a,f,h,d){return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",o,[(0,l.Lk)("div",r,[(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"Search staff...","onUpdate:modelValue":e[0]||(e[0]=e=>t.searchQuery=e)},null,512),[[n.Jo,t.searchQuery]]),(0,l.Lk)("button",{class:"btn btn-outline-secondary",onClick:e[1]||(e[1]=(...t)=>d.searchStaff&&d.searchStaff(...t))},"Search")]),(0,l.Lk)("div",u,[(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":e[2]||(e[2]=e=>t.filterStatus=e)},e[4]||(e[4]=[(0,l.Lk)("option",{value:""},"All Status",-1),(0,l.Lk)("option",{value:"active"},"Active",-1),(0,l.Lk)("option",{value:"inactive"},"Inactive",-1)]),512),[[n.u1,t.filterStatus]]),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":e[3]||(e[3]=e=>t.sortOption=e)},e[5]||(e[5]=[(0,l.Lk)("option",{value:"name"},"Sort by Name",-1),(0,l.Lk)("option",{value:"date"},"Sort by Joining Date",-1)]),512),[[n.u1,t.sortOption]])])]),(0,l.Lk)("table",i,[e[7]||(e[7]=(0,l.Lk)("thead",{class:"table-light"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"#"),(0,l.Lk)("th",null,"Name"),(0,l.Lk)("th",null,"Email"),(0,l.Lk)("th",null,"Section"),(0,l.Lk)("th",null,"Joining Date")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(h.staffs,(t,e)=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id},[(0,l.Lk)("td",null,(0,s.v_)(e+1),1),(0,l.Lk)("td",null,(0,s.v_)(t.user.name),1),(0,l.Lk)("td",null,(0,s.v_)(t.user.email),1),(0,l.Lk)("td",null,(0,s.v_)(t.sections.name),1),(0,l.Lk)("td",null,(0,s.v_)(new Date(t.user.created_at).toUTCString()),1)]))),128)),0===d.staffLength.length?((0,l.uX)(),(0,l.CE)("tr",c,e[6]||(e[6]=[(0,l.Lk)("td",{colspan:"5",class:"text-center"},"No staff found",-1)]))):(0,l.Q3)("",!0)])])],64)}var h=a(8082),d=a(14),k={created(){this.fetchStaffs()},data(){return{staffs:[],isFetchingStaff:!1}},computed:{staffLength(){return this.staffs}},methods:{async fetchStaffs(){this.isFetchingStaff=!0,this.staffs=[];try{const t=await h.A.get("/all-librarians",{headers:{Authorization:`Bearer ${d.Sh.value}`}});this.staffs=t.data.data}catch(t){console.log(t)}finally{this.isFetchingStaff=!1}},searchStaff(){setTimeout(()=>{this.fetchStaffs()},500)}}},L=a(1241);const p=(0,L.A)(k,[["render",f]]);var v=p}}]);
//# sourceMappingURL=7523.273f8830.js.map