{"version":3,"file":"js/1671.a2f4642e.js","mappings":"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","sources":["webpack://frontend/./src/pages/librarian/catalog/AcquisitionPage.vue","webpack://frontend/./src/pages/librarian/catalog/acquisition/CreateRequest.vue","webpack://frontend/./src/pages/librarian/catalog/acquisition/CreateRequest.vue?616b","webpack://frontend/./src/pages/librarian/catalog/acquisition/AcquisitionRequestList.vue","webpack://frontend/./src/pages/librarian/catalog/acquisition/AcquisitionRequestList.vue?4eeb","webpack://frontend/./src/services/ToastService.js","webpack://frontend/./src/pages/librarian/catalog/AcquisitionPage.vue?5a37","webpack://frontend/./src/utilities/selectOptions.js","webpack://frontend/./src/utilities/dataManipulation.js"],"sourcesContent":["<template>\r\n\t<div class=\"h-100 w-100 overflow-hidden\">\r\n\t\t<div class=\"card w-100 mb-2\">\r\n\t\t\t<div class=\"card-header d-flex justify-content-between align-items-center\">Data Management</div>\r\n\r\n\t\t\t<div class=\"card-body\">\r\n\t\t\t\t<button class=\"btn btn-outline-primary ms-auto\" data-bs-toggle=\"modal\" data-bs-target=\"#createRequest\">New Request</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"card w-100 h-100\">\r\n\t\t\t<div class=\"card-header\">\r\n\t\t\t\t<!-- <span>{{  }}</span> -->\r\n\t\t\t\t<ul class=\"nav nav-underline\">\r\n\t\t\t\t\t<li class=\"nav-item\" v-for=\"n in navs\" :key=\"n\" @click=\"active = n.name\">\r\n\t\t\t\t\t\t<a class=\"nav-link\" :class=\"{ active: active === n.name }\" aria-current=\"page\" href=\"#\">{{ wellFormed(n.name) }}</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"card-body overflow-auto p-0\">\r\n\t\t\t\t<AcquisitionRequestList v-if=\"active === 'requests'\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<!-- Create Acquisition Request -->\r\n\t<div class=\"modal fade\" id=\"createRequest\" data-bs-backdrop=\"static\">\r\n\t\t<create-request />\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport CreateRequest from \"./acquisition/CreateRequest.vue\";\r\nimport AcquisitionRequestList from \"./acquisition/AcquisitionRequestList.vue\";\r\nimport { wellFormed } from \"@/utilities/dataManipulation\";\r\nimport { getAcquisitionRequest } from \"@/stores/librarianCache\";\r\nimport { toast } from \"@/services/ToastService\";\r\n\r\nexport default {\r\n\tcomponents: { CreateRequest, AcquisitionRequestList },\r\n\tsetup() {\r\n\t\treturn {\r\n\t\t\twellFormed,\r\n\t\t};\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tactive: \"requests\",\r\n\t\t\tnavs: [{ name: \"requests\" }, { name: \"acquired\" }, { name: \"rejected\" }],\r\n\t\t\trequests: null,\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tasync fetchAcquisitionRequests() {\r\n\t\t\tconst res = await getAcquisitionRequest();\r\n\t\t\ttry {\r\n\t\t\t\tif (res.status == \"success\") {\r\n\t\t\t\t\tthis.requests = res.data;\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\ttoast.error(e.message);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nbutton.btn-success {\r\n\ttransition: 0.2s ease;\r\n}\r\n\r\nbutton.btn-success:hover {\r\n\ttransform: scale(1.03);\r\n}\r\n</style>\r\n","<template>\r\n\t<div class=\"modal-dialog modal-dialog-lg\">\r\n\t\t<div class=\"modal-content\">\r\n\t\t\t<div class=\"modal-header justify-content-between\">\r\n\t\t\t\t<h5 class=\"m-0 fw-bold\">üìö Acquisition Request</h5>\r\n\t\t\t\t<button class=\"btn btn-outline-primary btn-sm\" @click=\"resetForm\">Reset</button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"modal-body\">\r\n\t\t\t\t<form @submit.prevent=\"createRequest\">\r\n\t\t\t\t\t<div class=\"row g-3\">\r\n\t\t\t\t\t\t<!-- Title -->\r\n\t\t\t\t\t\t<div class=\"col-md-6\">\r\n\t\t\t\t\t\t\t<label class=\"form-label\">Title</label>\r\n\t\t\t\t\t\t\t<input type=\"text\" v-model=\"form.title\" class=\"form-control\" required />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<!-- Author -->\r\n\t\t\t\t\t\t<div class=\"col-md-6\">\r\n\t\t\t\t\t\t\t<label class=\"form-label\">Author</label>\r\n\t\t\t\t\t\t\t<input type=\"text\" v-model=\"form.author\" class=\"form-control\" />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<!-- Publisher -->\r\n\t\t\t\t\t\t<div class=\"col-md-6\">\r\n\t\t\t\t\t\t\t<label class=\"form-label\">Publisher</label>\r\n\t\t\t\t\t\t\t<input type=\"text\" v-model=\"form.publisher\" class=\"form-control\" />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<!-- Year -->\r\n\t\t\t\t\t\t<div class=\"col-md-3\">\r\n\t\t\t\t\t\t\t<label class=\"form-label\">Year</label>\r\n\t\t\t\t\t\t\t<input type=\"number\" min=\"1900\" max=\"2100\" v-model=\"form.year\" class=\"form-control\" />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<!-- Edition -->\r\n\t\t\t\t\t\t<div class=\"col-md-3\">\r\n\t\t\t\t\t\t\t<label class=\"form-label\">Edition</label>\r\n\t\t\t\t\t\t\t<input type=\"text\" v-model=\"form.edition\" class=\"form-control\" />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<!-- Quantity -->\r\n\t\t\t\t\t\t<div class=\"col-md-4\">\r\n\t\t\t\t\t\t\t<label class=\"form-label\">Quantity</label>\r\n\t\t\t\t\t\t\t<input type=\"number\" v-model=\"form.quantity\" class=\"form-control\" required />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<!-- Price -->\r\n\t\t\t\t\t\t<div class=\"col-md-4\">\r\n\t\t\t\t\t\t\t<label class=\"form-label\">Estimated Unit Price</label>\r\n\t\t\t\t\t\t\t<input type=\"number\" step=\"0.01\" v-model=\"form.estimated_unit_price\" class=\"form-control\" required />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<!-- Dealer -->\r\n\t\t\t\t\t\t<div class=\"col-md-4\">\r\n\t\t\t\t\t\t\t<label class=\"form-label\">Dealer</label>\r\n\t\t\t\t\t\t\t<input type=\"text\" v-model=\"form.dealer\" class=\"form-control\" />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<!-- Item Type -->\r\n\t\t\t\t\t\t<div class=\"col-md-12\">\r\n\t\t\t\t\t\t\t<label class=\"form-label\">Item Type</label>\r\n\t\t\t\t\t\t\t<select v-model=\"form.item_type\" class=\"form-select\" required>\r\n\t\t\t\t\t\t\t\t<option disabled value=\"\">Select Item Type</option>\r\n\t\t\t\t\t\t\t\t<option :value=\"type.id\" v-for=\"type in item_types\" :key=\"type.id\">{{ type.name }}</option>\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<!-- Submit Button -->\r\n\t\t\t\t\t<div class=\"text-end mt-4\">\r\n\t\t\t\t\t\t<button class=\"btn btn-outline-danger me-2\" data-bs-dismiss=\"modal\" type=\"button\">Cancel</button>\r\n\t\t\t\t\t\t<button class=\"btn btn-success\" type=\"submit\"><i class=\"bi bi-send me-2\"></i>Submit Request</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { showLoading } from \"@/services/LoadingService\";\r\nimport { showStatus } from \"@/services/StatusService\";\r\nimport { user } from \"@/stores/auth\";\r\nimport { postRequest } from \"@/stores/requestService\";\r\nimport { item_types } from \"@/utilities/selectOptions\";\r\nimport { Modal } from \"bootstrap\";\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\titem_types: item_types,\r\n\t\t\tform: {\r\n\t\t\t\trequested_by: user?.id || null,\r\n\t\t\t\ttitle: \"\",\r\n\t\t\t\tauthor: \"\",\r\n\t\t\t\tpublisher: \"\",\r\n\t\t\t\tyear: \"\",\r\n\t\t\t\tedition: \"\",\r\n\t\t\t\tquantity: \"\",\r\n\t\t\t\testimated_unit_price: \"\",\r\n\t\t\t\tdealer: \"\",\r\n\t\t\t\titem_type: \"\",\r\n\t\t\t},\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tasync createRequest() {\r\n\t\t\ttry {\r\n\t\t\t\tshowLoading({ message: \"Creating acquisition request\" });\r\n\t\t\t\tconst res = await postRequest(\"acquisition/request\", this.form);\r\n\t\t\t\tif (res.status === 201) {\r\n\t\t\t\t\tshowStatus({\r\n\t\t\t\t\t\tstatus: \"success\",\r\n\t\t\t\t\t\ttitle: \"Success\",\r\n\t\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tconst el = Modal.getInstance(document.getElementById(\"createRequest\"));\r\n\t\t\t\t\tel.hide();\r\n\t\t\t\t\tthis.resetForm();\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tshowStatus({\r\n\t\t\t\t\tstatus: \"error\",\r\n\t\t\t\t\ttitle: \"Error\",\r\n\t\t\t\t\tmessage: e.message,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tresetForm() {\r\n\t\t\tthis.form = {\r\n\t\t\t\trequested_by: user.value.id,\r\n\t\t\t\ttitle: \"\",\r\n\t\t\t\tauthor: \"\",\r\n\t\t\t\tpublisher: \"\",\r\n\t\t\t\tyear: \"\",\r\n\t\t\t\tedition: \"\",\r\n\t\t\t\tquantity: \"\",\r\n\t\t\t\testimated_unit_price: \"\",\r\n\t\t\t\tdealer: \"\",\r\n\t\t\t\titem_type_id: \"\",\r\n\t\t\t};\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n","import { render } from \"./CreateRequest.vue?vue&type=template&id=43900537\"\nimport script from \"./CreateRequest.vue?vue&type=script&lang=js\"\nexport * from \"./CreateRequest.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n\t<!-- Loading Spinner -->\r\n\t<div v-if=\"fetching\" class=\"text-center py-5\">\r\n\t\t<div class=\"spinner-border text-primary\" role=\"status\">\r\n\t\t\t<span class=\"visually-hidden\">Loading...</span>\r\n\t\t</div>\r\n\t\t<p class=\"mt-2 text-muted\">Fetching data...</p>\r\n\t</div>\r\n\r\n\t<!-- Table -->\r\n\t<table v-else class=\"table table-hover align-middle mb-0\">\r\n\t\t<thead class=\"table-light text-center\">\r\n\t\t\t<tr>\r\n\t\t\t\t<th>#</th>\r\n\t\t\t\t<th>Title</th>\r\n\t\t\t\t<th>Unit Price</th>\r\n\t\t\t\t<th>Quantity</th>\r\n\t\t\t\t<th>Dealer</th>\r\n\t\t\t\t<th>Status</th>\r\n\t\t\t\t<th>Date Ordered</th>\r\n\t\t\t\t<th>Review</th>\r\n\t\t\t</tr>\r\n\t\t</thead>\r\n\r\n\t\t<tbody>\r\n\t\t\t<tr v-for=\"(req, index) in acquisitionRequests\" :key=\"req.id\">\r\n\t\t\t\t<td class=\"text-center\">{{ index + 1 }}</td>\r\n\t\t\t\t<td>{{ req.title }}</td>\r\n\t\t\t\t<td class=\"text-end\">‚Ç±{{ req.estimated_unit_price.toLocaleString(\"en-PH\", { minimumFractionDigits: 2, maximumFractionDigits: 2 }) }}</td>\r\n\t\t\t\t<td class=\"text-center\">{{ req.quantity }}</td>\r\n\t\t\t\t<td>{{ req.dealer }}</td>\r\n\t\t\t\t<td class=\"text-center\">\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclass=\"badge px-3 py-2 text-capitalize\"\r\n\t\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t\t'bg-warning text-dark': req.status === 'pending',\r\n\t\t\t\t\t\t\t'bg-success': req.status === 'approved',\r\n\t\t\t\t\t\t\t'bg-danger': req.status === 'rejected',\r\n\t\t\t\t\t\t\t'bg-info': req.status === 'request',\r\n\t\t\t\t\t\t}\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{ wellFormed(req.status) }}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"text-center\">{{ formatShortDate(req.date_ordered) }}</td>\r\n\t\t\t\t<td class=\"text-center\">\r\n\t\t\t\t\t<button class=\"btn btn-outline-primary btn-sm\" data-bs-toggle=\"modal\" data-bs-target=\"#viewRequest\" @click=\"reviewRequest(req)\"><i class=\"bi bi-eye me-1\"></i> Review</button>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t</tbody>\r\n\t</table>\r\n\r\n\t<!-- Empty State -->\r\n\t<div v-if=\"!fetching && acquisitionRequests && acquisitionRequests.length === 0\" class=\"text-center py-5 text-muted\">\r\n\t\t<p>No acquisition requests found üò¢</p>\r\n\t</div>\r\n\r\n\t<!-- AI Review Modal -->\r\n\t<div class=\"modal fade\" id=\"viewRequest\" tabindex=\"-1\">\r\n\t\t<div class=\"modal-dialog modal-lg modal-dialog-scrollable\">\r\n\t\t\t<div class=\"modal-content border-0 shadow-lg rounded-3\">\r\n\t\t\t\t<div class=\"modal-header bg-primary text-white\">\r\n\t\t\t\t\t<h5 class=\"mb-0\"><i class=\"bi bi-book me-3\"></i>Acquisition Request Details</h5>\r\n\t\t\t\t\t<button class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\"></button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"modal-body\">\r\n\t\t\t\t\t<!-- Request Info -->\r\n\t\t\t\t\t<div v-if=\"view\">\r\n\t\t\t\t\t\t<div class=\"alert alert-light border-2\" role=\"alert\">\r\n\t\t\t\t\t\t\t<!-- Action Buttons -->\r\n\t\t\t\t\t\t\t<div class=\"hstack justify-content-end gap-2\">\r\n\t\t\t\t\t\t\t\t<strong class=\"me-auto\">Accept or Reject item request</strong>\r\n\t\t\t\t\t\t\t\t<button class=\"btn btn-danger\" @click=\"updateStatus('rejected')\"><i class=\"bi bi-x-circle me-2\"></i>Reject</button>\r\n\t\t\t\t\t\t\t\t<button class=\"btn btn-success\" @click=\"updateStatus('approved')\"><i class=\"bi bi-check-circle me-2\"></i>Grant</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<h2>{{ view.title }}</h2>\r\n\r\n\t\t\t\t\t\t<h5 class=\"mb-2\">Item Details</h5>\r\n\r\n\t\t\t\t\t\t<!-- Info Grid -->\r\n\t\t\t\t\t\t<div class=\"table-responsive mb-4\">\r\n\t\t\t\t\t\t\t<table class=\"table table-sm table-borderless\">\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th class=\"w-25 text-secondary\">Author</th>\r\n\t\t\t\t\t\t\t\t\t\t<td>{{ view.author }}</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th class=\"text-secondary\">Publisher</th>\r\n\t\t\t\t\t\t\t\t\t\t<td>{{ view.publisher }}</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th class=\"text-secondary\">Edition</th>\r\n\t\t\t\t\t\t\t\t\t\t<td>{{ view.edition }}</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th class=\"text-secondary\">Quantity</th>\r\n\t\t\t\t\t\t\t\t\t\t<td>{{ view.quantity }}</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th class=\"text-secondary\">Unit Price</th>\r\n\t\t\t\t\t\t\t\t\t\t<td>‚Ç±{{ view.estimated_unit_price.toLocaleString(\"en-PH\", { minimumFractionDigits: 2, maximumFractionDigits: 2 }) }}</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th class=\"text-secondary\">Expected Total</th>\r\n\t\t\t\t\t\t\t\t\t\t<td>‚Ç±{{ (view.estimated_unit_price * view.quantity).toLocaleString(\"en-PH\", { minimumFractionDigits: 2, maximumFractionDigits: 2 }) }}</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th class=\"text-secondary\">Dealer</th>\r\n\t\t\t\t\t\t\t\t\t\t<td>{{ view.dealer }}</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th class=\"text-secondary\">Date Ordered</th>\r\n\t\t\t\t\t\t\t\t\t\t<td>{{ formatShortDate(view.date_ordered) }}</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<!-- AI Review Section -->\r\n\t\t\t\t\t\t<div class=\"p-3 rounded bg-light border\">\r\n\t\t\t\t\t\t\t<div class=\"d-flex justify-content-between align-items-center mb-2\">\r\n\t\t\t\t\t\t\t\t<h6 class=\"fw-semibold mb-0\"><i class=\"bi bi-stars me-1\"></i>Recommendation</h6>\r\n\t\t\t\t\t\t\t\t<button class=\"btn btn-sm btn-outline-secondary\" @click=\"generateAIReview(view)\" :disabled=\"aiLoading\">\r\n\t\t\t\t\t\t\t\t\t<i class=\"bi bi-arrow-repeat\" v-if=\"aiLoading\"></i>\r\n\t\t\t\t\t\t\t\t\t<span v-else>Re-run Analysis</span>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div v-if=\"aiLoading\" class=\"text-center py-3 text-muted\">\r\n\t\t\t\t\t\t\t\t<img src=\"@/assets/spinner.gif\" alt=\"Loading\" width=\"35\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div v-else-if=\"analyzed\" class=\"text-dark\">\r\n\t\t\t\t\t\t\t\t<div class=\"table-responsive mb-4\">\r\n\t\t\t\t\t\t\t\t\t<table class=\"table table-sm table-borderless bg-none\">\r\n\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>Google Books</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td :class=\"aiReview.digital.status\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"bi me-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'bi-check-circle': aiReview.digital.status === 'success',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'bi-x-circle': aiReview.digital.status === 'error',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'bi-hourglass-split': aiReview.digital.status === 'loading',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i>{{ aiReview.digital.message }}</i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>Crossref</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td :class=\"aiReview.physical.status\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"bi me-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'bi-check-circle': aiReview.physical.status === 'success',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'bi-x-circle': aiReview.physical.status === 'error',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'bi-hourglass-split': aiReview.physical.status === 'loading',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i>{{ aiReview.physical.message }}</i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>OpenAlex</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td :class=\"aiReview.academic.status\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"bi me-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'bi-check-circle': aiReview.academic.status === 'success',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'bi-x-circle': aiReview.academic.status === 'error',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'bi-hourglass-split': aiReview.academic.status === 'loading',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i>{{ aiReview.academic.message }}</i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<p class=\"text-muted fst-italic\">{{ recommendationStatus }}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div v-else class=\"text-muted fst-italic\">\r\n\t\t\t\t\t\t\t\t<p>No analysis yet. Click ‚ÄúRe-run Analysis‚Äù to evaluate this request.</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { showStatus } from \"@/services/StatusService\";\r\nimport { getAcquisitionRequest } from \"@/stores/librarianCache\";\r\nimport { formatShortDate, wellFormed } from \"@/utilities/dataManipulation\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n\tname: \"AcquisitionRequests\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tacquisitionRequests: [],\r\n\t\t\tview: null,\r\n\t\t\tfetching: false,\r\n\t\t\tanalyzed: false,\r\n\t\t\taiReview: {\r\n\t\t\t\tdigital: { status: \"\", message: \"\" },\r\n\t\t\t\tphysical: { status: \"\", message: \"\" },\r\n\t\t\t\tacademic: { status: \"\", message: \"\" },\r\n\t\t\t},\r\n\r\n\t\t\taiLoading: false,\r\n\t\t\trecommendationScore: 0,\r\n\t\t\trecommendationStatus: \"\",\r\n\t\t};\r\n\t},\r\n\r\n\tsetup() {\r\n\t\treturn { wellFormed };\r\n\t},\r\n\r\n\tcreated() {\r\n\t\tthis.requests();\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tformatShortDate,\r\n\r\n\t\tasync requests() {\r\n\t\t\tthis.fetching = true;\r\n\t\t\ttry {\r\n\t\t\t\tthis.acquisitionRequests = await getAcquisitionRequest();\r\n\t\t\t} catch (e) {\r\n\t\t\t\tshowStatus({\r\n\t\t\t\t\tstatus: \"error\",\r\n\t\t\t\t\ttitle: \"Error Fetching Requests\",\r\n\t\t\t\t\tmessage: e.message || \"Something went wrong while loading data.\",\r\n\t\t\t\t});\r\n\t\t\t} finally {\r\n\t\t\t\tthis.fetching = false;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\treviewRequest(req) {\r\n\t\t\tthis.view = req;\r\n\t\t\tthis.analyzed = false;\r\n\t\t\tthis.recommendationScore = 0;\r\n\t\t\tthis.recommendationStatus = \"\";\r\n\t\t\tthis.aiReview = {\r\n\t\t\t\tdigital: { status: \"\", message: \"\" },\r\n\t\t\t\tphysical: { status: \"\", message: \"\" },\r\n\t\t\t\tacademic: { status: \"\", message: \"\" },\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tasync generateAIReview(data) {\r\n\t\t\tthis.aiLoading = true;\r\n\t\t\tthis.analyzed = false;\r\n\t\t\tthis.recommendationScore = 0;\r\n\r\n\t\t\t// Reset review structure\r\n\t\t\tthis.aiReview = {\r\n\t\t\t\tdigital: { status: \"\", message: \"\" },\r\n\t\t\t\tphysical: { status: \"\", message: \"\" },\r\n\t\t\t\tacademic: { status: \"\", message: \"\" },\r\n\t\t\t};\r\n\r\n\t\t\ttry {\r\n\t\t\t\t// Prepare query for all APIs\r\n\t\t\t\tconst query = `${data.title} ${data.author}`.trim().replace(/\\s+/g, \"+\");\r\n\r\n\t\t\t\t// Immediately set loading indicators\r\n\t\t\t\tthis.aiReview.digital.status = \"loading\";\r\n\t\t\t\tthis.aiReview.digital.message = \"Checking Google Books...\";\r\n\t\t\t\tthis.aiReview.physical.status = \"loading\";\r\n\t\t\t\tthis.aiReview.physical.message = \"Querying Crossref database...\";\r\n\t\t\t\tthis.aiReview.academic.status = \"loading\";\r\n\t\t\t\tthis.aiReview.academic.message = \"Analyzing academic presence...\";\r\n\r\n\t\t\t\t// Fire all APIs in parallel\r\n\t\t\t\tconst [google, crossref, openalex] = await Promise.allSettled([axios.get(`https://www.googleapis.com/books/v1/volumes?q=${query}`), axios.get(`https://api.crossref.org/works?query=${query}`), axios.get(`https://api.openalex.org/works?filter=title.search:${query}`)]);\r\n\r\n\t\t\t\t// ========== GOOGLE BOOKS ==========\r\n\t\t\t\tif (google.status === \"fulfilled\") {\r\n\t\t\t\t\tconst total = google.value.data.totalItems || 0;\r\n\t\t\t\t\tif (total > 0) {\r\n\t\t\t\t\t\tthis.aiReview.digital.status = \"success\";\r\n\t\t\t\t\t\tthis.aiReview.digital.message = \"Possible match found in Google Books‚Äô catalog.\";\r\n\t\t\t\t\t\tthis.recommendationScore += 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.aiReview.digital.status = \"error\";\r\n\t\t\t\t\t\tthis.aiReview.digital.message = \"No matching item found in Google Books.\";\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.aiReview.digital.status = \"error\";\r\n\t\t\t\t\tif (google.reason?.response?.status === 429) {\r\n\t\t\t\t\t\tthis.aiReview.digital.message = \"Google Books API rate limit reached. Try again later.\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.aiReview.digital.message = \"Failed to reach Google Books API.\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// ========== CROSSREF ==========\r\n\t\t\t\tif (crossref.status === \"fulfilled\") {\r\n\t\t\t\t\tconst items = crossref.value.data?.message?.items || [];\r\n\t\t\t\t\tif (items.length > 0) {\r\n\t\t\t\t\t\tthis.aiReview.physical.status = \"success\";\r\n\t\t\t\t\t\tthis.aiReview.physical.message = \"Possible bibliographic match found in Crossref.\";\r\n\t\t\t\t\t\tthis.recommendationScore += 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.aiReview.physical.status = \"error\";\r\n\t\t\t\t\t\tthis.aiReview.physical.message = \"No bibliographic records found in Crossref.\";\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.aiReview.physical.status = \"error\";\r\n\t\t\t\t\tif (crossref.reason?.response?.status === 429) {\r\n\t\t\t\t\t\tthis.aiReview.physical.message = \"Crossref API rate limit reached. Try again later.\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.aiReview.physical.message = \"Failed to reach Crossref API.\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// ========== OPENALEX ==========\r\n\t\t\t\tif (openalex.status === \"fulfilled\") {\r\n\t\t\t\t\tconst results = openalex.value.data?.results || [];\r\n\t\t\t\t\tif (results.length > 0) {\r\n\t\t\t\t\t\tconst first = results[0];\r\n\t\t\t\t\t\tthis.aiReview.academic.status = \"success\";\r\n\t\t\t\t\t\tthis.aiReview.academic.message = `Academic work found: ‚Äú${first.display_name}‚Äù (${first.publication_year || \"N/A\"}).`;\r\n\t\t\t\t\t\tthis.recommendationScore += 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.aiReview.academic.status = \"error\";\r\n\t\t\t\t\t\tthis.aiReview.academic.message = \"No academic records found in OpenAlex.\";\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.aiReview.academic.status = \"error\";\r\n\t\t\t\t\tif (openalex.reason?.response?.status === 429) {\r\n\t\t\t\t\t\tthis.aiReview.academic.message = \"OpenAlex API rate limit reached. Try again later.\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.aiReview.academic.message = \"Failed to reach OpenAlex API.\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// ========== FINAL RECOMMENDATION ==========\r\n\t\t\t\tif (this.recommendationScore >= 2) {\r\n\t\t\t\t\tthis.recommendationStatus = \"This item has strong indicators of digital and academic existence.\";\r\n\t\t\t\t} else if (this.recommendationScore === 1) {\r\n\t\t\t\t\tthis.recommendationStatus = \"This item may exist in limited or partial catalogs. Further verification recommended.\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.recommendationStatus = \"This item might not exist digitally or academically. Check local or physical suppliers before approval.\";\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error(\"AI Review failed:\", err);\r\n\t\t\t\tthis.aiReview = {\r\n\t\t\t\t\tdigital: { status: \"error\", message: \"AI analysis failed.\" },\r\n\t\t\t\t\tphysical: { status: \"error\", message: \"AI analysis failed.\" },\r\n\t\t\t\t\tacademic: { status: \"error\", message: \"AI analysis failed.\" },\r\n\t\t\t\t};\r\n\t\t\t\tthis.recommendationStatus = \"Unable to complete AI recommendation. Please try again.\";\r\n\t\t\t} finally {\r\n\t\t\t\tthis.aiLoading = false;\r\n\t\t\t\tthis.analyzed = true;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync updateStatus(status) {\r\n\t\t\ttry {\r\n\t\t\t\tshowStatus({\r\n\t\t\t\t\tstatus: \"success\",\r\n\t\t\t\t\ttitle: `Request ${status === \"approved\" ? \"Granted\" : \"Rejected\"}`,\r\n\t\t\t\t\tmessage: `The acquisition request has been ${status}.`,\r\n\t\t\t\t});\r\n\t\t\t\tthis.view.status = status;\r\n\t\t\t} catch (e) {\r\n\t\t\t\tshowStatus({\r\n\t\t\t\t\tstatus: \"error\",\r\n\t\t\t\t\ttitle: \"Action Failed\",\r\n\t\t\t\t\tmessage: e.message || \"Could not update request status.\",\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nli strong {\r\n\tmargin-right: 2rem;\r\n}\r\n\r\n.success {\r\n\tcolor: #28a745;\r\n}\r\n.error {\r\n\tcolor: #dc3545;\r\n}\r\n</style>\r\n","import { render } from \"./AcquisitionRequestList.vue?vue&type=template&id=1636e4b3&scoped=true\"\nimport script from \"./AcquisitionRequestList.vue?vue&type=script&lang=js\"\nexport * from \"./AcquisitionRequestList.vue?vue&type=script&lang=js\"\n\nimport \"./AcquisitionRequestList.vue?vue&type=style&index=0&id=1636e4b3&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1636e4b3\"]])\n\nexport default __exports__","import { useToast } from \"vue-toastification\";\r\n\r\nexport const toast = useToast();\r\n","import { render } from \"./AcquisitionPage.vue?vue&type=template&id=bfc284ce&scoped=true\"\nimport script from \"./AcquisitionPage.vue?vue&type=script&lang=js\"\nexport * from \"./AcquisitionPage.vue?vue&type=script&lang=js\"\n\nimport \"./AcquisitionPage.vue?vue&type=style&index=0&id=bfc284ce&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bfc284ce\"]])\n\nexport default __exports__","export const item_types = {\r\n\taudio: { id: \"audio\", name: \"Audio\" },\r\n\tbook: { id: \"book\", name: \"Book\" },\r\n\tdissertation: { id: \"dissertation\", name: \"Dissertation\" },\r\n\telectronic: { id: \"electronic\", name: \"Electronic\" },\r\n\tnewspaper: { id: \"newspaper\", name: \"Newspaper Clippings\" },\r\n\tperiodical: { id: \"periodical\", name: \"Periodical\" },\r\n\tserial: { id: \"serial\", name: \"Serial\" },\r\n\tthesis: { id: \"thesis\", name: \"Thesis\" },\r\n\tvertical: { id: \"vertical\", name: \"Vertical\" },\r\n};\r\n\r\nexport const categories = {\r\n\tencyclopedia: { id: \"encyclopedia\", name: \"Encyclopedia\" },\r\n\tenglish: { id: \"english\", name: \"English\" },\r\n\tfilipiniana: { id: \"filipiniana\", name: \"Filipiniana\" },\r\n\tfiction: { id: \"fiction\", name: \"Fiction\" },\r\n\tgeneral: { id: \"general\", name: \"General\" },\r\n\tmath: { id: \"math\", name: \"Math\" },\r\n\tnovel: { id: \"novel\", name: \"Novel\" },\r\n\treferences: { id: \"references\", name: \"References\" },\r\n\tscience: { id: \"science\", name: \"Science\" },\r\n\ttextbook: { id: \"textbook\", name: \"Textbook\" },\r\n};\r\n\r\nexport const authorship = {\r\n\tauthor: { id: \"author\", name: \"Author\" },\r\n\tadiviser: { id: \"adiviser\", name: \"adiviser\" },\r\n\tresearcher: { id: \"researcher\", name: \"researcher\" },\r\n\tproducer: { id: \"producer\", name: \"researcher\" },\r\n\twriter: { id: \"writer\", name: \"researcher\" },\r\n};\r\n\r\nexport const acquisition_modes = {\r\n\tpurchased: { id: \"purchased\", name: \"Purchased\" },\r\n\tgift: { id: \"gift\", name: \"Gift\" },\r\n\tdonated: { id: \"donated\", name: \"Donated\" },\r\n\texchange: { id: \"exchange\", name: \"Exchange\" },\r\n};\r\n\r\nexport const status = {\r\n\tavailable: { id: \"available\", name: \"Available\" },\r\n\treerved: { id: \"reserved\", name: \"Reserved\" },\r\n\ton_load: { id: \"on_load\", name: \"On Load\" },\r\n\tlost: { id: \"lost\", name: \"Lost\" },\r\n\tmissing: { id: \"missing\", name: \"Missing\" },\r\n\tarchived: { id: \"archived\", name: \"Archived\" },\r\n\tcondemned: { id: \"condemned\", name: \"Condemned\" },\r\n};\r\n","// import Fuse from \"fuse.js\";\r\n\r\n// Helper to get nested array value\r\n// const getValue = (obj, path) => {\r\n//     return path.split(\".\").reduce((acc, key) => acc?.[key], obj);\r\n// };\r\n\r\nexport const wellFormed = (data) => {\r\n\tif (!data) return null;\r\n\r\n\treturn data.charAt(0).toUpperCase() + data.slice(1);\r\n};\r\n\r\nexport const toTitleCase = (data) => {\r\n\treturn data\r\n\t\t.toLowerCase()\r\n\t\t.split(\" \")\r\n\t\t.map((d) => {\r\n\t\t\treturn d.charAt(0).toUpperCase() + d.slice(1);\r\n\t\t})\r\n\t\t.join(\" \");\r\n};\r\n\r\nexport const formatShortDate = (date) => {\r\n\tconsole.log(date);\r\n\r\n\tif (!date) return \"-\";\r\n\r\n\tconst d = new Date(date);\r\n\treturn d.toLocaleDateString(\"en-PH\", {\r\n\t\tyear: \"numeric\",\r\n\t\tmonth: \"long\",\r\n\t\tday: \"numeric\",\r\n\t});\r\n};\r\n\r\nexport const formatDate = (date) => {\r\n\tif (!date) return null;\r\n\r\n\tconst d = new Date(date);\r\n\treturn d.toLocaleDateString(\"en-PH\", {\r\n\t\tyear: \"numeric\",\r\n\t\tmonth: \"long\",\r\n\t\tday: \"numeric\",\r\n\t\thour: \"2-digit\",\r\n\t\tminute: \"2-digit\",\r\n\t});\r\n};\r\n\r\nexport const timeAgo = (t) => {\r\n\tif (!t) return null;\r\n\r\n\tconst now = new Date();\r\n\tconst past = new Date(t);\r\n\tconst diff = Math.floor((now - past) / 1000); // difference in seconds\r\n\r\n\tif (diff < 60) return `${diff} sec${diff !== 1 ? \"s\" : \"\"} ago`;\r\n\tif (diff < 3600) return `${Math.floor(diff / 60)} min${Math.floor(diff / 60) !== 1 ? \"s\" : \"\"} ago`;\r\n\tif (diff < 86400) return `${Math.floor(diff / 3600)} hr${Math.floor(diff / 3600) !== 1 ? \"s\" : \"\"} ago`;\r\n\treturn `${Math.floor(diff / 86400)} day${Math.floor(diff / 86400) !== 1 ? \"s\" : \"\"} ago`;\r\n};\r\n\r\nexport const formatHour = (time) => {\r\n\tif (!time) return \"N/A\";\r\n\r\n\tconst [h, m] = time.split(\":\").map(Number);\r\n\r\n\tconst ampm = h >= 12 ? \"PM\" : \"AM\";\r\n\tconst hour12 = h % 12 || 12;\r\n\r\n\treturn `${hour12}:${m.toString().padStart(2, \"0\")} ${ampm}`;\r\n};\r\n"],"names":["class","id","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createElementBlock","_Fragment","_renderList","$data","navs","n","key","onClick","$event","active","name","_normalizeClass","href","$setup","wellFormed","_hoisted_6","_createBlock","_component_AcquisitionRequestList","_hoisted_7","_createVNode","_component_create_request","_cache","args","$options","resetForm","onSubmit","_withModifiers","createRequest","_hoisted_5","type","form","title","required","author","_hoisted_8","publisher","_hoisted_9","min","max","year","_hoisted_10","edition","_hoisted_11","quantity","_hoisted_12","step","estimated_unit_price","_hoisted_13","dealer","_hoisted_14","item_type","disabled","value","item_types","_hoisted_15","data","requested_by","user","methods","showLoading","message","res","postRequest","this","status","showStatus","el","Modal","getInstance","document","getElementById","hide","e","item_type_id","__exports__","tabindex","role","fetching","acquisitionRequests","req","index","_toDisplayString","toLocaleString","minimumFractionDigits","maximumFractionDigits","formatShortDate","date_ordered","reviewRequest","length","view","_hoisted_16","_hoisted_17","updateStatus","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","generateAIReview","aiLoading","_hoisted_23","_hoisted_24","_hoisted_25","src","_imports_0","alt","width","analyzed","_hoisted_26","_hoisted_27","_hoisted_28","aiReview","digital","physical","academic","_hoisted_29","recommendationStatus","_hoisted_30","recommendationScore","setup","created","requests","getAcquisitionRequest","query","trim","replace","google","crossref","openalex","Promise","allSettled","axios","get","total","totalItems","reason","response","items","results","first","display_name","publication_year","err","console","error","toast","useToast","components","CreateRequest","AcquisitionRequestList","fetchAcquisitionRequests","render","audio","book","dissertation","electronic","newspaper","periodical","serial","thesis","vertical","categories","encyclopedia","english","filipiniana","fiction","general","math","novel","references","science","textbook","acquisition_modes","purchased","gift","donated","exchange","charAt","toUpperCase","slice","toTitleCase","toLowerCase","split","map","d","join","date","log","Date","toLocaleDateString","month","day","formatDate","hour","minute","timeAgo","t","now","past","diff","Math","floor","formatHour","time","h","m","Number","ampm","hour12","toString","padStart"],"sourceRoot":""}