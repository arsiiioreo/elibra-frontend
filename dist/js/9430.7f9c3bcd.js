"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[9430],{3098:function(e,l,a){e.exports=a.p+"img/spinner.42b4388c.gif"},3153:function(e,l,a){e.exports=a.p+"img/logo.5092d4aa.png"},3973:function(e,l,a){a.d(l,{l:function(){return i}});var t=a(4874),s=a.n(t);const i=async({title:e,message:l})=>s().fire({title:e,text:l,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(e=>e.isConfirmed)},4986:function(e,l,a){a.d(l,{LZ:function(){return s},jk:function(){return i},mU:function(){return t}});const t={audio:{id:"audio",name:"Audio"},book:{id:"book",name:"Book"},dissertation:{id:"dissertation",name:"Dissertation"},electronic:{id:"electronic",name:"Electronic"},newspaper:{id:"newspaper",name:"Newspaper Clippings"},periodical:{id:"periodical",name:"Periodical"},serial:{id:"serial",name:"Serial"},thesis:{id:"thesis",name:"Thesis"},vertical:{id:"vertical",name:"Vertical"}},s={encyclopedia:{id:"encyclopedia",name:"Encyclopedia"},english:{id:"english",name:"English"},filipiniana:{id:"filipiniana",name:"Filipiniana"},fiction:{id:"fiction",name:"Fiction"},general:{id:"general",name:"General"},math:{id:"math",name:"Math"},novel:{id:"novel",name:"Novel"},references:{id:"references",name:"References"},science:{id:"science",name:"Science"},textbook:{id:"textbook",name:"Textbook"}},i={purchased:{id:"purchased",name:"Purchased"},gift:{id:"gift",name:"Gift"},donated:{id:"donated",name:"Donated"},exchange:{id:"exchange",name:"Exchange"}}},9430:function(e,l,a){a.r(l),a.d(l,{default:function(){return La}});var t=a(6768),s=a(5130),i=a(3153);const o={class:"w-100 h-100 vstack overflow-x-hidden overflow-y-auto"},r={class:"row py-2"},u={class:"card col-md-12 col-lg-10 mx-auto"},d={class:"card-body"},n={class:"hstack align-items-start mb-5"},c={class:"d-flex flex-column align-items-start me-auto"},m={class:"modal fade",id:"authorModal",tabindex:"-1","data-bs-backdrop":"static","data-bs-keyboard":"false",role:"dialog","aria-labelledby":"modalTitleId","aria-hidden":"true"},p={class:"modal fade",id:"publisherModal",tabindex:"-1","data-bs-backdrop":"static","data-bs-keyboard":"false",role:"dialog","aria-labelledby":"modalTitleId","aria-hidden":"true"};function h(e,l,a,h,b,k){const v=(0,t.g2)("router-link"),f=(0,t.g2)("BibliographyInputs"),g=(0,t.g2)("LocationInputs"),y=(0,t.g2)("AuthorInputs"),L=(0,t.g2)("PublisherInputs"),w=(0,t.g2)("AcquisitionInputs"),C=(0,t.g2)("AuthorsCatalogModal"),I=(0,t.g2)("PublisherCatalogModal");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",o,[(0,t.Lk)("div",r,[(0,t.Lk)("div",u,[(0,t.Lk)("div",d,[(0,t.Lk)("form",{class:"vstack p-3 pt-4",onSubmit:l[7]||(l[7]=(0,s.D$)((...e)=>k.addNewItem&&k.addNewItem(...e),["prevent"]))},[(0,t.Lk)("div",n,[(0,t.Lk)("div",c,[l[11]||(l[11]=(0,t.Lk)("h1",{class:"fw-bold"},"Cataloging Form",-1)),l[12]||(l[12]=(0,t.Lk)("p",null,[(0,t.eW)("Please fill all required fields with ("),(0,t.Lk)("span",{class:"text-danger"},"*"),(0,t.eW)(") mark.")],-1)),(0,t.bF)(v,{class:"btn btn-primary",to:{name:"LibrarianCatalog"}},{default:(0,t.k6)(()=>l[10]||(l[10]=[(0,t.eW)("Return")])),_:1,__:[10]})]),l[13]||(l[13]=(0,t.Lk)("img",{src:i,alt:"",width:"75"},null,-1))]),(0,t.bF)(f,{modelValue:b.item,"onUpdate:modelValue":l[0]||(l[0]=e=>b.item=e)},null,8,["modelValue"]),(0,t.bF)(g,{modelValue:b.item,"onUpdate:modelValue":l[1]||(l[1]=e=>b.item=e)},null,8,["modelValue"]),(0,t.bF)(y,{modelValue:b.item.authors,"onUpdate:modelValue":l[2]||(l[2]=e=>b.item.authors=e),"onToggle:modal":l[3]||(l[3]=e=>k.toggleModal("authorModal",e))},null,8,["modelValue"]),(0,t.bF)(L,{modelValue:b.item,"onUpdate:modelValue":l[4]||(l[4]=e=>b.item=e),"onToggle:modal":l[5]||(l[5]=e=>k.toggleModal("publisherModal",e))},null,8,["modelValue"]),(0,t.bF)(w,{modelValue:b.item.acquisition,"onUpdate:modelValue":l[6]||(l[6]=e=>b.item.acquisition=e)},null,8,["modelValue"]),l[14]||(l[14]=(0,t.Lk)("div",{class:"hstack gap-2 justify-content-end"},[(0,t.Lk)("button",{class:"btn btn-primary px-4"},"Add Item")],-1))],32)])])])]),(0,t.Lk)("div",m,[(0,t.bF)(C,{"onSelected:authors":l[8]||(l[8]=e=>b.item.authors=e),modalActive:b.modal.author},null,8,["modalActive"])]),(0,t.Lk)("div",p,[(0,t.bF)(I,{"onSelected:publisher":l[9]||(l[9]=e=>b.item.publisher=e),d:b.item?.publisher,modalActive:b.modal.publisher},null,8,["d","modalActive"])])],64)}a(8111),a(7588);var b=a(4232),k=a(3098);const v={class:"modal-dialog modal-dialog-scrollable",role:"document"},f={class:"modal-content"},g={key:0,class:"modal-body p-4"},y={class:"card"},L={class:"card-header hstack"},w=["disabled"],C={class:"card-body vstack"},I={class:"mb-3"},_={class:"mb-3"},V={class:"form-check"},A={class:"hstack justify-content-end gap-2 mt-4"},E=["disabled"],P={key:1,class:"modal-body p-4"},q={class:"hstack gap-2 mb-4"},x={key:0,class:"card"},N={class:"vstack justify-content-start"},X={key:0,src:k,alt:"Spinner",width:"50",class:"mx-auto"},S={key:1},F={class:"list-group"},T=["onClick"],M={class:"d-flex w-100 justify-content-between"},Q={class:"mb-1"},B={class:"text-muted"},D={key:2,class:"text-center p-3"},j={class:"modal-footer"},$=["disabled"];function W(e,l,a,i,o,r){return(0,t.uX)(),(0,t.CE)("div",v,[(0,t.Lk)("div",f,[o.addNewPublisher?((0,t.uX)(),(0,t.CE)("div",g,[l[15]||(l[15]=(0,t.Lk)("div",{class:"d-flex"},[(0,t.Lk)("div",{class:"vstack mb-3"},[(0,t.Lk)("h5",{class:"fw-bold",id:"modalTitleId"},"Add New Publisher"),(0,t.Lk)("small",null,"Please fill up the form with correct details.")]),(0,t.Lk)("button",{type:"button",class:"btn-close ms-auto","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),(0,t.Lk)("div",y,[(0,t.Lk)("div",L,[l[11]||(l[11]=(0,t.Lk)("h6",{class:"mb-0"},[(0,t.Lk)("i",{class:"bi bi-person-add me-2"}),(0,t.eW)("Add New Publisher")],-1)),(0,t.Lk)("button",{type:"button",class:"btn btn-sm btn-danger ms-auto",onClick:l[0]||(l[0]=(...e)=>r.resetNewPublisherInfo&&r.resetNewPublisherInfo(...e)),disabled:!o.newPublisher.name&&!o.newPublisher.address},l[10]||(l[10]=[(0,t.Lk)("i",{class:"bi bi-arrow-clockwise me-2"},null,-1),(0,t.eW)("Reset Input")]),8,w)]),(0,t.Lk)("div",C,[(0,t.Lk)("form",{onSubmit:l[5]||(l[5]=(0,s.D$)((...e)=>r.createNewPublisher&&r.createNewPublisher(...e),["prevent"]))},[(0,t.Lk)("div",I,[l[12]||(l[12]=(0,t.Lk)("label",{for:"publisher-name",class:"form-label"},"Name",-1)),(0,t.bo)((0,t.Lk)("input",{type:"text",name:"publisher-name",id:"publisher-name",class:"form-control",placeholder:"Enter publisher's company name","onUpdate:modelValue":l[1]||(l[1]=e=>o.newPublisher.name=e)},null,512),[[s.Jo,o.newPublisher.name]])]),(0,t.Lk)("div",_,[l[13]||(l[13]=(0,t.Lk)("label",{for:"publisher-address",class:"form-label"},"Address",-1)),(0,t.bo)((0,t.Lk)("input",{type:"text",name:"publisher-address",id:"publisher-address",class:"form-control",placeholder:"Enter publisher's company address","onUpdate:modelValue":l[2]||(l[2]=e=>o.newPublisher.address=e)},null,512),[[s.Jo,o.newPublisher.address]])]),(0,t.Lk)("div",V,[(0,t.bo)((0,t.Lk)("input",{class:"form-check-input",type:"checkbox",value:"",id:"publisher-true","onUpdate:modelValue":l[3]||(l[3]=e=>o.newPublisher.set=e)},null,512),[[s.lH,o.newPublisher.set]]),l[14]||(l[14]=(0,t.Lk)("label",{class:"form-check-label",for:"publisher-true"}," Set this as this item's publisher",-1))]),(0,t.Lk)("div",A,[(0,t.Lk)("button",{type:"button",class:"btn btn-outline-danger",onClick:l[4]||(l[4]=e=>o.addNewPublisher=!1)},"Back"),(0,t.Lk)("button",{type:"submit",class:"btn btn-outline-primary",disabled:!o.newPublisher.name||!o.newPublisher.address},"Add",8,E)])],32)])])])):((0,t.uX)(),(0,t.CE)("div",P,[l[19]||(l[19]=(0,t.Lk)("div",{class:"d-flex"},[(0,t.Lk)("div",{class:"vstack mb-3"},[(0,t.Lk)("h5",{class:"fw-bold",id:"modalTitleId"},"Select Publisher"),(0,t.Lk)("small",null,"Search and select if the publisher exists, if not, add publisher information.")]),(0,t.Lk)("button",{type:"button",class:"btn-close ms-auto","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),(0,t.Lk)("div",q,[(0,t.bo)((0,t.Lk)("input",{type:"text",id:"publisher-search",class:"form-control w-100","onUpdate:modelValue":l[6]||(l[6]=e=>o.publisher_search=e),placeholder:"Search for publishers..."},null,512),[[s.Jo,o.publisher_search]]),l[16]||(l[16]=(0,t.Lk)("button",{class:"btn btn-outline-success"},"Search",-1)),(0,t.Lk)("button",{class:"btn btn-outline-primary",onClick:l[7]||(l[7]=(...e)=>r.aNP&&r.aNP(...e))},"Add New")]),o.publisher_search&&!o.addNewPublisher?((0,t.uX)(),(0,t.CE)("div",x,[l[18]||(l[18]=(0,t.Lk)("div",{class:"card-header"},[(0,t.Lk)("i",{class:"bi bi-person me-2"}),(0,t.eW)("Publishers List")],-1)),(0,t.Lk)("div",N,[o.loading?((0,t.uX)(),(0,t.CE)("img",X)):o.publishers.length?((0,t.uX)(),(0,t.CE)("div",S,[(0,t.Lk)("div",F,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(o.publishers,(e,l)=>((0,t.uX)(),(0,t.CE)("a",{href:"#",class:(0,b.C4)(["list-group-item list-group-item-action flex-column align-items-start",[o.selectedPublisher?.id===e.id||o.selectedPublisherFromParent?.id===e?.id?"active text-white":""]]),"aria-current":"true",key:e?.id,onClick:l=>{o.selectedPublisher=e,o.selectedPublisherFromParent=null}},[(0,t.Lk)("div",M,[(0,t.Lk)("h6",Q,(0,b.v_)(l+1)+". "+(0,b.v_)(e?.name),1)]),(0,t.Lk)("small",B,(0,b.v_)(e?.address??"No address saved."),1)],10,T))),128))])])):((0,t.uX)(),(0,t.CE)("div",D,[l[17]||(l[17]=(0,t.eW)("No publisher found? ")),(0,t.Lk)("a",{href:"#",onClick:l[8]||(l[8]=(...e)=>r.aNP&&r.aNP(...e))},"Add Publisher")]))])])):(0,t.Q3)("",!0)])),(0,t.Lk)("div",j,[l[20]||(l[20]=(0,t.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1)),(0,t.Lk)("button",{type:"button",class:"btn btn-primary",onClick:l[9]||(l[9]=e=>r.selectThisPublisher()),disabled:!o.selectedPublisher?.id},"Save",8,$)])])])}var K=a(1661),U=a(445),R=a(4564),O=a(8077),J={props:{d:Object,modalActive:Boolean},mounted(){this.addNewPublisher=!1},data(){return{publisher_search:null,publishers:[],newPublisher:{name:"",address:"",set:!0},selectedPublisherFromParent:this.d,selectedPublisher:null,addNewPublisher:!1,loading:!1,timer:null}},methods:{aNP(){this.addNewPublisher=!0,this.newPublisher={name:this.publisher_search},this.publisher_search=""},async searchPublisher(){this.loading=!0,this.publishers=(await(0,R.iq)("publisher",{query:this.publisher_search})).data.data,this.loading=!1},selectThisPublisher(){this.$emit("selected:publisher",this.selectedPublisher);const e=O.aF.getInstance(document.getElementById("publisherModal"));e&&e.hide()},async createNewPublisher(){(0,K.C)({message:"Adding new publisher to the database"});const e=await(0,R.MB)("publisher/create",this.newPublisher);"success"===e.data.status?((0,U.w)({status:e.data.status,title:"Success",message:"Added successfully"}),this.newPublisher.set&&(this.selectedPublisher=e.data.data,this.selectThisPublisher()),this.resetNewPublisherInfo()):(0,U.w)({status:"error",title:"Error",message:"Added unsuccessfully"})},resetNewPublisherInfo(){this.newPublisher={name:"",address:"",set:!1}}},watch:{modalActive(){this.addNewPublisher=!1},publisher_search(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.searchPublisher()},500)}}},H=a(1241);const G=(0,H.A)(J,[["render",W]]);var z=G;a(4114);const Y={class:"modal-dialog modal-lg",role:"document"},Z={class:"modal-content",style:{height:"450px"}},ee={class:"modal-body p-4 vstack overflow-hidden"},le={class:"hstack gap-2 mb-4"},ae={class:"position-relative w-100"},te={key:0},se={key:1},ie=["disabled","onMousedown"],oe={class:"card-body"},re={class:"hstack gap-2"},ue={class:"card h-100 overflow-hidden"},de={class:"card-body p-0 d-flex overflow-hidden"},ne={key:0,class:"my-auto mx-auto"},ce={key:1,class:"list-group list-group-numbered list-group-flush w-100 overflow-y-auto"},me={class:"ms-2 me-auto"},pe=["onClick"],he={class:"card-footer text-end"},be=["disabled"],ke=["disabled"];function ve(e,l,a,i,o,r){return(0,t.uX)(),(0,t.CE)("div",Y,[(0,t.Lk)("div",Z,[(0,t.Lk)("div",ee,[l[16]||(l[16]=(0,t.Lk)("div",{class:"d-flex"},[(0,t.Lk)("div",{class:"vstack mb-3"},[(0,t.Lk)("h5",{class:"fw-bold",id:"modalTitleId"},"Add Author"),(0,t.Lk)("small",null,"Please fill up the form with correct details.")]),(0,t.Lk)("button",{type:"button",class:"btn-close ms-auto","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),(0,t.Lk)("div",le,[(0,t.Lk)("div",ae,[(0,t.bo)((0,t.Lk)("input",{type:"search",id:"publisher-search",class:"form-control w-100","onUpdate:modelValue":l[0]||(l[0]=e=>o.query=e),placeholder:"Search for author...",autocomplete:"off",onFocus:l[1]||(l[1]=e=>{o.showQuerySuggestions=!0,o.createNewAuthor=!1})},null,544),[[s.Jo,o.query]]),(0,t.Lk)("ul",{class:(0,b.C4)(["dropdown-menu w-100 position-absolute mt-2 overflow-y-auto",{show:o.showQuerySuggestions&&o.query}]),style:{"z-index":"5555",top:"100%","max-height":"200px"}},[o.loading?((0,t.uX)(),(0,t.CE)("li",te,l[8]||(l[8]=[(0,t.Lk)("div",{class:"dropdown-item hstack justify-content-center p-4"},[(0,t.Lk)("img",{src:k,alt:"Spinner",width:"50"})],-1)]))):o.authors.length<1&&o.query?((0,t.uX)(),(0,t.CE)("li",se,l[9]||(l[9]=[(0,t.Lk)("div",{class:"dropdown-item hstack justify-content-center p-4 text-center"},"No found author, add them now.",-1)]))):(0,t.Q3)("",!0),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(o.authors,e=>((0,t.uX)(),(0,t.CE)("li",{key:e.id},[(0,t.Lk)("button",{class:"dropdown-item hstack justify-content-between p-3",disabled:r.isSelected(e),onMousedown:l=>{r.isSelected(e)||o.selectedAuthors.push(e),o.showQuerySuggestions=!1}},[(0,t.eW)((0,b.v_)(e.name)+" ",1),(0,t.Lk)("i",{class:(0,b.C4)(["bi",[r.isSelected(e)?"bi-check-circle-fill text-success":"bi-plus-circle"]])},null,2)],40,ie)]))),128))],2)]),l[10]||(l[10]=(0,t.Lk)("button",{class:"btn btn-outline-success"},"Search",-1)),(0,t.Lk)("button",{class:(0,b.C4)(["btn",[o.createNewAuthor?"btn-danger":"btn-outline-primary"]]),onClick:l[2]||(l[2]=e=>o.createNewAuthor=!o.createNewAuthor)},[(0,t.Lk)("i",{class:(0,b.C4)(["bi me-2",[o.createNewAuthor?"bi-x":"bi-person-add"]])},null,2),(0,t.eW)((0,b.v_)(o.createNewAuthor?"Close Form":"New Author"),1)],2)]),o.createNewAuthor?((0,t.uX)(),(0,t.CE)("form",{key:0,onSubmit:l[5]||(l[5]=(0,s.D$)(()=>{},["prevent"])),class:"card mb-3"},[l[13]||(l[13]=(0,t.Lk)("div",{class:"card-header"},"Create New Author",-1)),(0,t.Lk)("div",oe,[(0,t.Lk)("form",{onSubmit:l[4]||(l[4]=(0,s.D$)((...e)=>r.createAuthor&&r.createAuthor(...e),["prevent"]))},[l[12]||(l[12]=(0,t.Lk)("label",{for:"name",class:"form-label required"},"Name",-1)),(0,t.Lk)("div",re,[(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control",id:"name",placeholder:"Ex. Juan Dela Cruz",required:"","onUpdate:modelValue":l[3]||(l[3]=e=>o.newAuthor=e)},null,512),[[s.Jo,o.newAuthor]]),l[11]||(l[11]=(0,t.Lk)("button",{type:"submit",class:"btn btn-success"},[(0,t.Lk)("i",{class:"bi bi-plus"}),(0,t.eW)("Add")],-1))])],32)])],32)):(0,t.Q3)("",!0),(0,t.Lk)("div",ue,[l[15]||(l[15]=(0,t.Lk)("div",{class:"card-header"},"Authors List",-1)),(0,t.Lk)("div",de,[o.selectedAuthors.length<1?((0,t.uX)(),(0,t.CE)("div",ne,"No authors yet, add one now.")):((0,t.uX)(),(0,t.CE)("ol",ce,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(o.selectedAuthors,e=>((0,t.uX)(),(0,t.CE)("li",{class:"list-group-item hstack justify-content-end border-bottom",key:e?.id},[(0,t.Lk)("div",me,(0,b.v_)(e?.name),1),(0,t.Lk)("button",{class:"btn btn-sm btn-danger",onClick:l=>r.deleteAuthor(e)},l[14]||(l[14]=[(0,t.Lk)("i",{class:"bi bi-trash"},null,-1)]),8,pe)]))),128))]))]),(0,t.Lk)("div",he,[(0,t.Lk)("button",{class:"btn btn-danger me-2",disabled:o.selectedAuthors.length<1,onClick:l[6]||(l[6]=e=>o.selectedAuthors=[])},"Clear",8,be),(0,t.Lk)("button",{class:"btn btn-primary",disabled:o.selectedAuthors.length<1,onClick:l[7]||(l[7]=l=>e.$emit("selected:authors",o.selectedAuthors)),"data-bs-dismiss":"modal"},"Save",8,ke)])])])])])}a(2489),a(3579);var fe=a(3973),ge={props:{modalActive:Boolean},data(){return{query:"",authors:[],selectedAuthors:[],newAuthor:null,loading:!1,createNewAuthor:!1,showQuerySuggestions:!1,timer:null}},methods:{isSelected(e){return this.selectedAuthors.some(l=>l.id===e.id)},async searchAuthor(){this.loading=!0;const e=await(0,R.iq)("author",{query:this.query});"success"===e.data.status&&(this.authors=e.data.data),this.loading=!1},async createAuthor(){const e=await(0,fe.l)({title:"Add Author?",message:`Are you sure you want to add ${this.newAuthor} as an author?`});if(e){(0,K.C)({message:"Adding author, please wait..."});const e=await(0,R.MB)("author/create",{name:this.newAuthor});"success"==e.data.status&&(this.selectedAuthors.push(e.data.data),(0,U.w)({status:"success",title:"Success",message:"Author added successfully!"}))}},async deleteAuthor(e){const l=await(0,fe.l)({title:"Delete Author",message:`Are you sure you want to delete this ${e.name} from the list?`});l&&(this.selectedAuthors=this.selectedAuthors.filter(l=>l.id!==e.id))}},watch:{query(){this.query&&(clearTimeout(this.timer),this.timer=setTimeout(()=>{this.searchAuthor()},500))},modalActive(){this.createNewAuthor=!1,this.newAuthor=null}}};const ye=(0,H.A)(ge,[["render",ve]]);var Le=ye;const we={class:"row g-2 mb-5"},Ce={class:"col-lg-6"},Ie=["value"],_e={class:"col-lg-6"},Ve=["value"],Ae=["value"],Ee=["value"],Pe={key:0,class:"col-lg-3"},qe=["value"],xe=["value"],Ne=["value"],Xe=["value"],Se={key:1,class:"col-12"},Fe={class:"row g-2"},Te={class:"col-lg-3"},Me=["value"],Qe={class:"col-lg-6"},Be={class:"hstack gap-2"},De=["value"],je=["value"],$e=["value"],We=["value"],Ke=["value"],Ue=["value"],Re={class:"col-lg-3"},Oe=["value"],Je={key:2,class:"col-lg-4"},He=["value"],Ge={key:3,class:"col-lg-4"},ze=["value"],Ye={key:4,class:"col-lg-3"},Ze=["value"],el={key:5,class:"col-lg-3"},ll=["value"],al={key:6,class:"col-lg-3"},tl=["value"],sl={key:7,class:"col-lg-4"},il=["value"],ol={key:8,class:"col-lg-4"},rl=["value"],ul={key:9,class:"col-lg-3"},dl=["value"],nl={key:10,class:"col-lg-3"},cl=["value"],ml={key:11,class:"col-lg-6"},pl=["value"],hl=["value"],bl={class:"col-lg-12"},kl=["value"];function vl(e,l,a,s,i,o){return(0,t.uX)(),(0,t.CE)("div",we,[l[48]||(l[48]=(0,t.Lk)("div",{class:"vstack"},[(0,t.Lk)("h5",{class:"fw-bold text-primary"},[(0,t.Lk)("i",{class:"bi bi-card-list me-2"}),(0,t.eW)("Item's Bibliography")]),(0,t.Lk)("small",{class:"text-muted"},"Please enter the correct details for the item's bibliography.")],-1)),(0,t.Lk)("div",Ce,[l[21]||(l[21]=(0,t.Lk)("label",{for:"title",class:"form-label required"},"Title",-1)),(0,t.Lk)("input",{type:"text",class:"form-control",id:"title",placeholder:"Enter Title",required:"",value:a.modelValue.title,onInput:l[0]||(l[0]=e=>o.updateInfo("title",e.target.value))},null,40,Ie)]),(0,t.Lk)("div",_e,[l[22]||(l[22]=(0,t.Lk)("label",{for:"call_number",class:"form-label required"},"Call Number",-1)),(0,t.Lk)("input",{type:"text",class:"form-control",id:"call_number",placeholder:"Enter Call Number",required:"",value:a.modelValue.call_number,onInput:l[1]||(l[1]=e=>o.updateInfo("call_number",e.target.value))},null,40,Ve)]),(0,t.Lk)("div",{class:(0,b.C4)([1==a.modelValue.item_type?"col-lg-3":"col-lg-6"])},[l[24]||(l[24]=(0,t.Lk)("label",{for:"item_type",class:"form-label required"},"Item Type",-1)),(0,t.Lk)("select",{class:"form-select",id:"item_type",value:a.modelValue.item_type,onChange:l[2]||(l[2]=e=>o.updateInfo("item_type",e.target.value)),required:""},[l[23]||(l[23]=(0,t.Lk)("option",{value:"",disabled:""},"Select Item Type",-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(i.item_types,e=>((0,t.uX)(),(0,t.CE)("option",{key:e.id,value:e.id},(0,b.v_)(e.name),9,Ee))),128))],40,Ae)],2),"book"===a.modelValue.item_type?((0,t.uX)(),(0,t.CE)("div",Pe,[l[26]||(l[26]=(0,t.Lk)("label",{for:"category",class:"form-label required"},"Category",-1)),(0,t.Lk)("select",{class:"form-select",id:"category",value:a.modelValue.category,onChange:l[3]||(l[3]=e=>o.updateInfo("category",e.target.value)),required:""},[l[25]||(l[25]=(0,t.Lk)("option",{value:"",disabled:""},"Select Category",-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(i.categories,e=>((0,t.uX)(),(0,t.CE)("option",{key:e.id,value:e.id},(0,b.v_)(e.name),9,xe))),128))],40,qe)])):(0,t.Q3)("",!0),(0,t.Lk)("div",{class:(0,b.C4)(["book"===a.modelValue.item_type?"col-lg-3":"col-lg-6"])},[l[28]||(l[28]=(0,t.Lk)("label",{for:"language",class:"form-label required"},"Language",-1)),(0,t.Lk)("select",{class:"form-select",id:"language",value:a.modelValue.language,onChange:l[4]||(l[4]=e=>o.updateInfo("language",e.target.value)),required:""},[l[27]||(l[27]=(0,t.Lk)("option",{value:"",disabled:""},"Select Language",-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(i.languages,e=>((0,t.uX)(),(0,t.CE)("option",{key:e.id,value:e.id},(0,b.v_)(e.name),9,Xe))),128))],40,Ne)],2),"audio"===a.modelValue.item_type?((0,t.uX)(),(0,t.CE)("div",Se,[(0,t.Lk)("div",Fe,[(0,t.Lk)("div",Te,[l[30]||(l[30]=(0,t.Lk)("label",{for:"format",class:"form-label"},"Format",-1)),(0,t.Lk)("select",{class:"form-select",id:"format",value:a.modelValue.audio.format,onChange:l[5]||(l[5]=e=>o.updateInfo("audio.format",e.target.value)),required:""},l[29]||(l[29]=[(0,t.Lk)("option",{value:"",disabled:""},"Select Format",-1),(0,t.Lk)("option",{value:"mp3"},"MP3",-1),(0,t.Lk)("option",{value:"mp4"},"MP4",-1),(0,t.Lk)("option",{value:"m4a"},"M4A",-1)]),40,Me)]),(0,t.Lk)("div",Qe,[l[34]||(l[34]=(0,t.Lk)("label",{for:"Duration",class:"form-label"},"Duration",-1)),(0,t.Lk)("div",Be,[l[31]||(l[31]=(0,t.Lk)("label",{for:"hour"},"Hours",-1)),(0,t.Lk)("select",{name:"hour",id:"hour",class:"form-select",value:a.modelValue.audio.duration.hours,onChange:l[6]||(l[6]=e=>o.updateInfo("audio.duration.hours",e.target.value))},[((0,t.uX)(),(0,t.CE)(t.FK,null,(0,t.pI)(60,(e,l)=>(0,t.Lk)("option",{value:l,key:l},(0,b.v_)(l),9,je)),64))],40,De),l[32]||(l[32]=(0,t.Lk)("label",{for:"minutes"},"Minute",-1)),(0,t.Lk)("select",{name:"minutes",id:"minutes",class:"form-select",value:a.modelValue.audio.duration.minutes,onChange:l[7]||(l[7]=e=>o.updateInfo("audio.duration.minutes",e.target.value))},[((0,t.uX)(),(0,t.CE)(t.FK,null,(0,t.pI)(60,(e,l)=>(0,t.Lk)("option",{value:l,key:l},(0,b.v_)(l),9,We)),64))],40,$e),l[33]||(l[33]=(0,t.Lk)("label",{for:"seconds"},"Seconds",-1)),(0,t.Lk)("select",{name:"seconds",id:"seconds",class:"form-select",value:a.modelValue.audio.duration.seconds,onChange:l[8]||(l[8]=e=>o.updateInfo("audio.duration.seconds",e.target.value))},[((0,t.uX)(),(0,t.CE)(t.FK,null,(0,t.pI)(60,(e,l)=>(0,t.Lk)("option",{value:l,key:l},(0,b.v_)(l),9,Ue)),64))],40,Ke)])]),(0,t.Lk)("div",Re,[l[35]||(l[35]=(0,t.Lk)("label",{for:"Producer",class:"form-label"},"Producer",-1)),(0,t.Lk)("input",{type:"text",class:"form-control",id:"Producer",placeholder:"Enter Producer",value:a.modelValue.audio.producer,onInput:l[9]||(l[9]=e=>o.updateInfo("audio.producer",e.target.value))},null,40,Oe)])])])):(0,t.Q3)("",!0),"book"===a.modelValue.item_type||"serial"===a.modelValue.item_type||"periodical"===a.modelValue.item_type||"newspaper"===a.modelValue.item_type?((0,t.uX)(),(0,t.CE)("div",Je,[l[36]||(l[36]=(0,t.Lk)("label",{for:"pages",class:"form-label"},"Pages",-1)),(0,t.Lk)("input",{type:"text",class:"form-control",id:"pages",placeholder:"Enter Pages",value:a.modelValue.pages,onInput:l[10]||(l[10]=e=>o.updateInfo("pages",e.target.value))},null,40,He)])):(0,t.Q3)("",!0),"book"===a.modelValue.item_type||"serial"===a.modelValue.item_type||"periodical"===a.modelValue.item_type||"electronic"===a.modelValue.item_type?((0,t.uX)(),(0,t.CE)("div",Ge,[l[37]||(l[37]=(0,t.Lk)("label",{for:"isbn_issn",class:"form-label required"},"ISBN/ISSN",-1)),(0,t.Lk)("input",{type:"text",class:"form-control",id:"isbn_issn",placeholder:"Enter ISBN or ISSN",required:"",value:a.modelValue.isbn_issn,onInput:l[11]||(l[11]=e=>o.updateInfo("isbn_issn",e.target.value))},null,40,ze)])):(0,t.Q3)("",!0),"periodical"==a.modelValue.item_type||"serials"==a.modelValue.item_type?((0,t.uX)(),(0,t.CE)("div",Ye,[l[38]||(l[38]=(0,t.Lk)("label",{for:"Volume",class:"form-label"},"Volume",-1)),(0,t.Lk)("input",{type:"text",class:"form-control",id:"Volume",placeholder:"Enter Volume",value:a.modelValue.pages,onInput:l[12]||(l[12]=e=>o.updateInfo("volume",e.target.value))},null,40,Ze)])):(0,t.Q3)("",!0),"periodical"==a.modelValue.item_type||"serials"==a.modelValue.item_type?((0,t.uX)(),(0,t.CE)("div",el,[l[39]||(l[39]=(0,t.Lk)("label",{for:"Issue",class:"form-label"},"Issue",-1)),(0,t.Lk)("input",{type:"text",class:"form-control",id:"Issue",placeholder:"Enter Issue",value:a.modelValue.pages,onInput:l[13]||(l[13]=e=>o.updateInfo("issue",e.target.value))},null,40,ll)])):(0,t.Q3)("",!0),"serials"===a.modelValue.item_type?((0,t.uX)(),(0,t.CE)("div",al,[l[40]||(l[40]=(0,t.Lk)("label",{for:"Volume",class:"form-label"},"Volume",-1)),(0,t.Lk)("input",{type:"text",class:"form-control",id:"Volume",placeholder:"Enter Volume",value:a.modelValue.pages,onInput:l[14]||(l[14]=e=>o.updateInfo("volume",e.target.value))},null,40,tl)])):(0,t.Q3)("",!0),"newspaper"===a.modelValue.item_type?((0,t.uX)(),(0,t.CE)("div",sl,[l[41]||(l[41]=(0,t.Lk)("label",{for:"date",class:"form-label"},"Date",-1)),(0,t.Lk)("input",{type:"date",class:"form-control",id:"date",placeholder:"Enter Date",value:a.modelValue.pages,onInput:l[15]||(l[15]=e=>o.updateInfo("newspaper.date",e.target.value))},null,40,il)])):(0,t.Q3)("",!0),"newspaper"===a.modelValue.item_type?((0,t.uX)(),(0,t.CE)("div",ol,[l[42]||(l[42]=(0,t.Lk)("label",{for:"edition",class:"form-label"},"Edition",-1)),(0,t.Lk)("input",{type:"text",class:"form-control",id:"edition",placeholder:"Enter Edition",value:a.modelValue.pages,onInput:l[16]||(l[16]=e=>o.updateInfo("newspaper.edition",e.target.value))},null,40,rl)])):(0,t.Q3)("",!0),"thesis"===a.modelValue.item_type||"dissertation"===a.modelValue.item_type?((0,t.uX)(),(0,t.CE)("div",ul,[l[43]||(l[43]=(0,t.Lk)("label",{for:"Advisor",class:"form-label"},"Advisor",-1)),(0,t.Lk)("input",{type:"text",class:"form-control",id:"Advisor",placeholder:"Enter Advisor",value:a.modelValue.academic.advisor,onInput:l[17]||(l[17]=e=>o.updateInfo("academic.advisor",e.target.value))},null,40,dl)])):(0,t.Q3)("",!0),"thesis"===a.modelValue.item_type||"dissertation"===a.modelValue.item_type?((0,t.uX)(),(0,t.CE)("div",nl,[l[44]||(l[44]=(0,t.Lk)("label",{for:"Researchers",class:"form-label"},"Researchers",-1)),(0,t.Lk)("input",{type:"text",class:"form-control",id:"Researchers",placeholder:"Enter Researchers",value:a.modelValue.academic.researchers,onInput:l[18]||(l[18]=e=>o.updateInfo("academic.researchers",e.target.value))},null,40,cl)])):(0,t.Q3)("",!0),"thesis"===a.modelValue.item_type||"dissertation"===a.modelValue.item_type?((0,t.uX)(),(0,t.CE)("div",ml,[l[46]||(l[46]=(0,t.Lk)("label",{for:"Program",class:"form-label"},"Program",-1)),(0,t.Lk)("select",{class:"form-select",id:"Program",value:a.modelValue.academic.program_id,onChange:l[19]||(l[19]=e=>o.updateInfo("academic.program_id",e.target.value)),required:""},[l[45]||(l[45]=(0,t.Lk)("option",{value:"",disabled:""},"Select Program",-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(i.programs,e=>((0,t.uX)(),(0,t.CE)("option",{value:e.id,key:e.id},(0,b.v_)(e.name),9,hl))),128))],40,pl)])):(0,t.Q3)("",!0),(0,t.Lk)("div",bl,[l[47]||(l[47]=(0,t.Lk)("label",{for:"description",class:"form-label"},"Description/Abstract",-1)),(0,t.Lk)("textarea",{class:"form-control",id:"description",placeholder:"Enter a short description of the item...",maxlength:"255",value:a.modelValue.remarks,onInput:l[20]||(l[20]=e=>o.updateInfo("remarks",e.target.value))},null,40,kl)])])}var fl=a(14),gl=a(2994),yl=a(4986),Ll={props:{modelValue:{type:Object,required:!0}},data(){return{item_types:yl.mU,categories:yl.LZ,languages:null,programs:null}},methods:{updateInfo(e,l){const a=e.split("."),t={...this.modelValue};let s=t;for(let i=0;i<a.length-1;i++){const e=a[i];s[e]=s[e]?{...s[e]}:{},s=s[e]}s[a[a.length-1]]=l,this.$emit("update:modelValue",t)}},async mounted(){this.languages=await(0,gl.kG)();const e=await(0,fl.ru)();this.programs=(await(0,R.iq)(`program/read/from-campus/${e?.campus?.id}`)).data?.data}};const wl=(0,H.A)(Ll,[["render",vl]]);var Cl=wl;const Il={class:"row g-2 mb-5"},_l={class:"col-lg-6"},Vl=["value"],Al={class:"col-lg-6"},El=["value"],Pl={class:"col-lg-6"},ql=["value"],xl={class:"col-lg-6"},Nl=["value"],Xl=["value"];function Sl(e,l,a,s,i,o){return(0,t.uX)(),(0,t.CE)("div",Il,[l[6]||(l[6]=(0,t.Lk)("div",{class:"vstack"},[(0,t.Lk)("h5",{class:"fw-bold text-primary"},[(0,t.Lk)("i",{class:"bi bi-geo-alt me-2"}),(0,t.eW)("Location's Information")]),(0,t.Lk)("small",{class:"text-muted"},"Please enter the correct details for the item's authors.")],-1)),(0,t.Lk)("div",_l,[l[1]||(l[1]=(0,t.Lk)("label",{for:"campus",class:"form-label"},"Campus",-1)),(0,t.Lk)("input",{type:"text",class:"form-control",id:"campus",placeholder:"No campus selected",value:a.modelValue.campus.name??"No campus, please login",required:"",readonly:"",disabled:""},null,8,Vl)]),(0,t.Lk)("div",Al,[l[2]||(l[2]=(0,t.Lk)("label",{for:"address",class:"form-label"},"Address",-1)),(0,t.Lk)("input",{type:"text",class:"form-control",id:"address",placeholder:"This campus has no address",value:a.modelValue.campus.address??"This campus has no address",required:"",readonly:"",disabled:""},null,8,El)]),(0,t.Lk)("div",Pl,[l[3]||(l[3]=(0,t.Lk)("label",{for:"branch",class:"form-label"},"Branch",-1)),(0,t.Lk)("input",{type:"text",class:"form-control",id:"branch",placeholder:"No branch selected",value:a.modelValue.branch.name??"No branch, please login",required:"",readonly:"",disabled:""},null,8,ql)]),(0,t.Lk)("div",xl,[l[5]||(l[5]=(0,t.Lk)("label",{for:"section",class:"form-label"},"Section",-1)),(0,t.Lk)("select",{name:"section",id:"section",class:"form-select",value:a.modelValue?.section?.id,onChange:l[0]||(l[0]=e=>o.updateInfo("section.id",e.target.value))},[l[4]||(l[4]=(0,t.Lk)("option",{value:"",disabled:"",selected:""},"Select Section",-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(i.sections,(e,l)=>((0,t.uX)(),(0,t.CE)("option",{value:e.id,key:l},(0,b.v_)(e.name),9,Xl))),128))],40,Nl)])])}var Fl={props:{modelValue:{type:Object,required:!0}},data(){return{sections:[],me:null}},methods:{updateInfo(e,l){const a=e.split("."),t={...this.modelValue};let s=t;for(let i=0;i<a.length-1;i++){const e=a[i];s[e]=s[e]?{...s[e]}:{},s=s[e]}s[a[a.length-1]]=l,this.$emit("update:modelValue",t)},async fetchSections(){const e=await(0,R.iq)(`sections/${this.me?.librarian?.section?.branch?.id}`);this.sections=e.data.data}},async mounted(){this.me=await(0,fl.ru)(),this.me?.librarian?.section?.branch?.id&&this.fetchSections(),console.log(this.me)}};const Tl=(0,H.A)(Fl,[["render",Sl]]);var Ml=Tl;const Ql={class:"row g-2 mb-5"},Bl={class:"hstack justify-content-between align-items-start"},Dl={key:0,class:"col-lg-12"},jl={for:"publisher",class:"form-label"},$l=["value"];function Wl(e,l,a,s,i,o){return(0,t.uX)(),(0,t.CE)("div",Ql,[(0,t.Lk)("div",Bl,[l[2]||(l[2]=(0,t.Lk)("div",{class:"vstack"},[(0,t.Lk)("h5",{class:"fw-bold text-primary"},[(0,t.Lk)("i",{class:"bi bi-feather me-2"}),(0,t.eW)("Author's Information")]),(0,t.Lk)("small",{class:"text-muted"},"Please enter the correct details for the item's authors.")],-1)),(0,t.Lk)("button",{type:"button",class:"btn btn-outline-primary",onClick:l[0]||(l[0]=l=>e.$emit("toggle:modal",!0))},l[1]||(l[1]=[(0,t.Lk)("i",{class:"bi bi-person-plus me-2"},null,-1),(0,t.eW)("Add Author")]))]),0===a.modelValue.length?((0,t.uX)(),(0,t.CE)("div",Dl,l[3]||(l[3]=[(0,t.Lk)("div",{class:"alert alert-primary text-center",role:"alert"},"No authors yet, add now.",-1)]))):((0,t.uX)(!0),(0,t.CE)(t.FK,{key:1},(0,t.pI)(a.modelValue,(e,l)=>((0,t.uX)(),(0,t.CE)("div",{class:"col-lg-4",key:e.id},[(0,t.Lk)("label",jl,"Author "+(0,b.v_)(l+1),1),(0,t.Lk)("input",{type:"text",class:"form-control",id:"publisher",placeholder:"Select publisher",value:e.name??"Select publisher",required:"",readonly:""},null,8,$l)]))),128))])}var Kl={props:{modelValue:{type:Object,required:!0}},methods:{updateInfo(e,l){this.$emit("update:modelValue",{...this.modelValue,[e]:l})}}};const Ul=(0,H.A)(Kl,[["render",Wl]]);var Rl=Ul;const Ol={class:"row g-2 mb-5"},Jl={class:"col-lg-9"},Hl=["value"],Gl={class:"col-lg-3"};function zl(e,l,a,s,i,o){return(0,t.uX)(),(0,t.CE)("div",Ol,[l[4]||(l[4]=(0,t.Lk)("div",{class:"vstack"},[(0,t.Lk)("h5",{class:"fw-bold text-primary"},[(0,t.Lk)("i",{class:"bi bi-buildings me-2"}),(0,t.eW)("Publisher's Information")]),(0,t.Lk)("small",{class:"text-muted"},"Please enter the correct details for the item's bibliography.")],-1)),(0,t.Lk)("div",Jl,[l[2]||(l[2]=(0,t.Lk)("label",{for:"publisher",class:"form-label"},"Publisher",-1)),(0,t.Lk)("input",{type:"text",class:"form-control",id:"publisher",placeholder:"Select publisher",value:a.modelValue?.publisher?.name??"Select publisher",readonly:"",required:"",onClick:l[0]||(l[0]=l=>e.$emit("toggle:modal",!0))},null,8,Hl)]),(0,t.Lk)("div",Gl,[l[3]||(l[3]=(0,t.Lk)("label",{for:"date_of_publication",class:"form-label"},"Year of Publication",-1)),(0,t.Lk)("input",{type:"number",class:"form-control",id:"date_of_publication",placeholder:"Enter year (1920-2025)",min:"1920",max:"2025",required:"",onInput:l[1]||(l[1]=e=>o.updateInfo("year",e.target.value))},null,32)])])}var Yl={props:{modelValue:{type:Object,required:!0}},methods:{updateInfo(e,l){this.$emit("update:modelValue",{...this.modelValue,[e]:l})}}};const Zl=(0,H.A)(Yl,[["render",zl]]);var ea=Zl;const la={class:"row g-2 mb-5"},aa={class:"col-lg-4"},ta=["value"],sa=["value"],ia={class:"col-lg-4"},oa=["value"],ra={class:"col-lg-4"},ua=["value"],da={class:"col-lg-4"},na=["value"],ca={class:"col-lg-4"},ma=["value"],pa={key:0,class:"col-lg-4"},ha=["value"];function ba(e,l,a,s,i,o){return(0,t.uX)(),(0,t.CE)("div",la,[l[12]||(l[12]=(0,t.Lk)("div",{class:"vstack"},[(0,t.Lk)("h5",{class:"fw-bold text-primary"},[(0,t.Lk)("i",{class:"bi bi-journal-arrow-down me-2"}),(0,t.eW)("Acquisition's Information")]),(0,t.Lk)("small",{class:"text-muted"},"Please enter the correct details for the item's acquisition.")],-1)),(0,t.Lk)("div",aa,[l[6]||(l[6]=(0,t.Lk)("label",{for:"acquisition_mode",class:"form-label"},"Acquisition Mode",-1)),(0,t.Lk)("select",{name:"acquisition_mode",id:"",class:"form-control",value:a.modelValue.mode,onInput:l[0]||(l[0]=e=>o.updateInfo("mode",e.target.value)),required:""},[l[5]||(l[5]=(0,t.Lk)("option",{value:"",disabled:"",selected:""},"Select Acquisition Mode",-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(s.acquisition_modes,(e,l)=>((0,t.uX)(),(0,t.CE)("option",{value:a.modelValue.id,key:l},(0,b.v_)(e.name),9,sa))),128))],40,ta)]),(0,t.Lk)("div",ia,[l[7]||(l[7]=(0,t.Lk)("label",{for:"donor",class:"form-label"},"Donor",-1)),(0,t.Lk)("input",{type:"text",class:"form-control",id:"donor",placeholder:"Enter Donor's Name",value:a.modelValue.donor,onInput:l[1]||(l[1]=e=>o.updateInfo("donor",e.target.value)),required:""},null,40,oa)]),(0,t.Lk)("div",ra,[l[8]||(l[8]=(0,t.Lk)("label",{for:"acquisition_date",class:"form-label"},"Acquisition Date",-1)),(0,t.Lk)("input",{type:"date",class:"form-control",id:"acquisition_date",placeholder:"Enter Acquisition's Date",value:a.modelValue.date,onInput:l[2]||(l[2]=e=>o.updateInfo("date",e.target.value)),required:""},null,40,ua)]),(0,t.Lk)("div",da,[l[9]||(l[9]=(0,t.Lk)("label",{for:"copies",class:"form-label"},"Quantity",-1)),(0,t.Lk)("input",{type:"number",class:"form-control",id:"copies",placeholder:"Enter Copies",min:"1",max:"199",value:a.modelValue.copies,onInput:l[3]||(l[3]=e=>o.updateInfo("copies",Number(e.target.value))),required:""},null,40,na)]),(0,t.Lk)("div",ca,[l[10]||(l[10]=(0,t.Lk)("label",{for:"price",class:"form-label"},"Price",-1)),(0,t.Lk)("input",{type:"number",class:"form-control",id:"price",placeholder:"Enter Price",min:"0",value:a.modelValue.price,onInput:l[4]||(l[4]=e=>o.updateInfo("price",Number(e.target.value))),required:""},null,40,ma)]),a.modelValue.copies&&a.modelValue.price?((0,t.uX)(),(0,t.CE)("div",pa,[l[11]||(l[11]=(0,t.Lk)("label",{for:"total_price",class:"form-label"},"Total Price",-1)),(0,t.Lk)("input",{type:"text",class:"form-control text-end",id:"total_price",value:o.formattedTotal,readonly:""},null,8,ha)])):(0,t.Q3)("",!0)])}var ka={props:{modelValue:{type:Object,required:!0}},setup(){return{acquisition_modes:yl.jk}},computed:{formattedTotal(){const e=(this.modelValue.copies||0)*(this.modelValue.price||0);return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(e)}},methods:{updateInfo(e,l){this.$emit("update:modelValue",{...this.modelValue,[e]:l})}}};const va=(0,H.A)(ka,[["render",ba]]);var fa=va,ga={components:{PublisherCatalogModal:z,AuthorsCatalogModal:Le,BibliographyInputs:Cl,LocationInputs:Ml,AuthorInputs:Rl,AcquisitionInputs:fa,PublisherInputs:ea},data(){return{item:{title:"Crimson Academy",item_type:"thesis",year_published:"2025",isbn_issn:"",language:"1",category:"",call_number:"CIR 2571612",description:"New added item for testing.",pages:"",volume:"",issue:"",serial:{doi:""},newspaper:{date:"",edition:""},publisher:null,acquisition:{mode:"purchased",date:"",dealer:"ISU Echague",remarks:"Wala lang",copies:"2",price:"250",discount:"25",net_price:""},authors:[],campus:[],branch:[],section:{id:""},audio:{format:"",duration:{hours:"",minutes:"",seconds:""},producer:"Default Produces"},academic:{advisor:"Desiray Nayga",researchers:["Reign Balico","Eugene Tobias"],program_id:""}},modal:{publisher:!1,author:!1}}},async mounted(){const e=await(0,fl.ru)();this.item.campus=e.campus,this.item.branch=e.librarian.section.branch;const l=Object.keys(this.modal);l.forEach(e=>{const l=document.getElementById(`${e}Modal`);l&&(l.addEventListener("shown.bs.modal",()=>{this.modal[e]=!0}),l.addEventListener("hidden.bs.modal",()=>{this.modal[e]=!1}))})},methods:{toggleModal(e,l){const a=document.getElementById(e);if(!a)return;let t=O.aF.getInstance(a);t||(t=new O.aF(a)),l?t.show():t.hide()},getDefaultItem(){return{title:"",item_type:"",year_published:"",isbn_issn:"",language:"",category:"",call_number:"",description:"",pages:"",volume:"",issue:"",serial:{doi:""},newspaper:{date:"",edition:""},publisher:null,acquisition:{mode:"",date:"",dealer:"",remarks:"",copies:"",price:"",discount:"",net_price:""},authors:[],campus:[],branch:[],section:{id:""},audio:{format:"",duration:{hours:"",minutes:"",seconds:""},producer:""},academic:{advisor:"",researchers:[],program_id:""}}},async addNewItem(){const e=await(0,fe.l)({title:"Confirm Addition",message:"Please check your inputs if correct before proceeding"});if(e){(0,K.C)({message:"Adding item, please wait..."});const e=await(0,R.MB)("item/add",{title:this.item.title,publisher_id:this.item.publisher.id,year_published:this.item.year_published,isbn_issn:this.item.isbn_issn,call_number:this.item.call_number,item_type:this.item.item_type,language_id:this.item.language,description:this.item.description,authors:this.item.authors,format:this.item.audio.format,duration:this.item.audio.duration.hours+":"+this.item.audio.duration.minutes+":"+this.item.audio.duration.seconds,section_id:this.item.section.id,acquisition_mode:this.item.acquisition.mode,acquisition_date:this.item.acquisition.date,dealer:this.item.acquisition.donor,acquisition_remarks:this.item.acquisition.remarks,copies:this.item.acquisition.copies,price:this.item.acquisition.price,discount:this.item.acquisition.discount,net_price:this.item.acquisition.net_price});"success"===e.data.status?(0,U.w)({status:"success",title:"Success",message:"Item added successfully"}):"error"===e.data.status&&(0,U.w)({status:"error",title:"Error",message:e.data.message})}console.log(this.item)},computeNet(){const e=Number(this.acquisition.copies)||0,l=Number(this.acquisition.price)||0,a=Number(this.acquisition.discount)||0;this.acquisition.net_price=e*l-a}},watch:{"item.item_type"(){this.item.category=""},"acquisition.copies":"computeNet","acquisition.price":"computeNet","acquisition.discount":"computeNet"}};const ya=(0,H.A)(ga,[["render",h]]);var La=ya}}]);
//# sourceMappingURL=9430.7f9c3bcd.js.map