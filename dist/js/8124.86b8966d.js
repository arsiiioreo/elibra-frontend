"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[8124],{8124:function(e,t,s){s.r(t),s.d(t,{default:function(){return C}});var o=s(6768),r=s(5130),n=s(4232);const c={class:"p-4",ref:"dropdownWrapper"},l={class:"card"},a={class:"dropdown"},u={class:"dropdown-menu w-100 show",style:{"max-height":"300px","overflow-y":"auto"}},i=["onClick"],d={class:"vstack"},h={class:"small mb-0"},m={class:"fw-bold"},k={key:0,class:"dropdown-item text-muted"},f={key:0,class:"mt-3"};function p(e,t,s,p,b,w){return(0,o.uX)(),(0,o.CE)("div",c,[(0,o.Lk)("div",l,[(0,o.Lk)("div",a,[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>b.searchQuery=e),onInput:t[1]||(t[1]=(...e)=>w.debouncedSearch&&w.debouncedSearch(...e)),onFocus:t[2]||(t[2]=e=>b.focusOnItem=!0)},null,544),[[r.Jo,b.searchQuery]]),(0,o.bo)((0,o.Lk)("ul",u,[t[3]||(t[3]=(0,o.Lk)("li",null,[(0,o.Lk)("h6",{class:"dropdown-header"},"Items List")],-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(b.filteredReturns,(e,t)=>((0,o.uX)(),(0,o.CE)("li",{key:t,class:"dropdown-item",onClick:t=>w.selectItem(e)},[(0,o.Lk)("div",d,[(0,o.Lk)("span",h,(0,n.v_)(e.accession),1),(0,o.Lk)("h6",m,(0,n.v_)(e.book),1)])],8,i))),128)),0===b.filteredReturns.length?((0,o.uX)(),(0,o.CE)("li",k,"No results found")):(0,o.Q3)("",!0)],512),[[r.aG,b.focusOnItem]])])]),b.selectedItem?((0,o.uX)(),(0,o.CE)("div",f,[t[4]||(t[4]=(0,o.Lk)("strong",null,"Selected:",-1)),(0,o.eW)(" "+(0,n.v_)(b.selectedItem.book)+" ("+(0,n.v_)(b.selectedItem.accession)+")",1)])):(0,o.Q3)("",!0)],512)}s(8111),s(2489);var b={data(){return{focusOnItem:!1,selectedItem:null,searchQuery:"",timeout:null,returns:[{borrower:"Alice Johnson",book:"The Great Gatsby",accession:"GT000045",returnDate:"2023-10-01"},{borrower:"Bob Smith",book:"1984",accession:"GT000046",returnDate:"2023-10-02"},{borrower:"Charlie Brown",book:"To Kill a Mockingbird",accession:"GT000047",returnDate:"2023-10-03"}],filteredReturns:[]}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)},methods:{handleClickOutside(e){this.$refs.dropdownWrapper.contains(e.target)||(this.focusOnItem=!1)},debouncedSearch(){clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.searchData()},300)},searchData(){this.filteredReturns=this.returns.filter(e=>this.searchQuery?e.accession.toLowerCase().includes(this.searchQuery.toLowerCase()):null)},selectItem(e){this.selectedItem=e,this.focusOnItem=!1,this.searchQuery=e.accession,console.log("Selected:",e)}}},w=s(1241);const v=(0,w.A)(b,[["render",p]]);var C=v}}]);
//# sourceMappingURL=8124.86b8966d.js.map