"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[8779],{531:function(e,t,o){var r=o(6518),s=o(9565),l=o(9306),n=o(8551),c=o(1767),a=o(8646),i=o(9462),d=o(9539),u=o(6395),h=o(684),b=o(4549),m=!u&&!h("flatMap",function(){}),p=!u&&!m&&b("flatMap",TypeError),k=u||m||p,f=i(function(){var e,t,o=this.iterator,r=this.mapper;while(1){if(t=this.inner)try{if(e=n(s(t.next,t.iterator)),!e.done)return e.value;this.inner=null}catch(l){d(o,"throw",l)}if(e=n(s(this.next,o)),this.done=!!e.done)return;try{this.inner=a(r(e.value,this.counter++),!1)}catch(l){d(o,"throw",l)}}});r({target:"Iterator",proto:!0,real:!0,forced:k},{flatMap:function(e){n(this);try{l(e)}catch(t){d(this,"throw",t)}return p?s(p,this,e):new f(c(this),{mapper:e,inner:null})}})},8646:function(e,t,o){var r=o(9565),s=o(8551),l=o(1767),n=o(851);e.exports=function(e,t){t&&"string"===typeof e||s(e);var o=n(e);return l(s(void 0!==o?r(o,e):e))}},8779:function(e,t,o){o.r(t),o.d(t,{default:function(){return U}});var r=o(6768),s=o(5130);const l={class:"card w-100"},n={class:"card-body"},c={class:"row gap-3 px-3"},a=["disabled"],i={class:"card mt-3"},d={class:"card-body"},u={class:"table-responsive"};function h(e,t,o,h,b,m){const p=(0,r.g2)("BorrowTable"),k=(0,r.g2)("SearchModal");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",l,[t[6]||(t[6]=(0,r.Lk)("div",{class:"card-header fw-bold"},"Borrowing's Information",-1)),(0,r.Lk)("div",n,[(0,r.Lk)("div",c,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control col-12 col-md-5",placeholder:"Enter Item's Accession Code","onUpdate:modelValue":t[0]||(t[0]=e=>b.selectedAccession=e),onFocus:t[1]||(t[1]=(...e)=>m.openAccessionModal&&m.openAccessionModal(...e)),readonly:""},null,544),[[s.Jo,b.selectedAccession]]),(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control col-12 col-md-5",placeholder:"Enter Student's Borrower Card","onUpdate:modelValue":t[2]||(t[2]=e=>b.selectedBorrower=e),onFocus:t[3]||(t[3]=(...e)=>m.openBorrowerModal&&m.openBorrowerModal(...e)),readonly:""},null,544),[[s.Jo,b.selectedBorrower]]),(0,r.Lk)("button",{class:"btn btn-primary col-12 col-md-2",onClick:t[4]||(t[4]=(...e)=>m.addBorrowing&&m.addBorrowing(...e)),disabled:!b.selectedAccession||!b.selectedBorrower},t[5]||(t[5]=[(0,r.Lk)("i",{class:"bi bi-plus-circle me-2"},null,-1),(0,r.eW)("Add")]),8,a)])])]),(0,r.Lk)("div",i,[t[7]||(t[7]=(0,r.Lk)("div",{class:"card-header fw-bold"},"Borrowing List",-1)),(0,r.Lk)("div",d,[(0,r.Lk)("div",u,[(0,r.bF)(p,{borrowing:b.borrowing},null,8,["borrowing"])])])]),(0,r.bF)(k,{ref:"accessionModal",title:"Select Accession",data:m.allAccessions,formatItem:e=>e.code+" - "+e.title,onSelected:m.setAccession},null,8,["data","formatItem","onSelected"]),(0,r.bF)(k,{ref:"borrowerModal",title:"Select Borrower",data:b.borrower,formatItem:e=>e.ebc+" - "+e.user.name,onSelected:m.setBorrower},null,8,["data","formatItem","onSelected"])],64)}o(4114),o(8111),o(531);var b=o(4232);const m={class:"table table-bordered table-hover"};function p(e,t,o,s,l,n){return(0,r.uX)(),(0,r.CE)("table",m,[t[1]||(t[1]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID"),(0,r.Lk)("th",null,"Accession Code"),(0,r.Lk)("th",null,"Borrower"),(0,r.Lk)("th",null,"Date Borrowed"),(0,r.Lk)("th",null,"Date of Return"),(0,r.Lk)("th",null,"Actions")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.borrowing,e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,b.v_)(e.id),1),(0,r.Lk)("td",null,(0,b.v_)(e.code),1),(0,r.Lk)("td",null,(0,b.v_)(e.ebc),1),(0,r.Lk)("td",null,(0,b.v_)(e.date_borrowed),1),(0,r.Lk)("td",null,(0,b.v_)(e.date_of_return),1),t[0]||(t[0]=(0,r.Lk)("td",{class:"text-center vstack gap-2"},[(0,r.Lk)("button",{class:"btn btn-primary"},[(0,r.Lk)("i",{class:"bi bi-eye me-1"}),(0,r.eW)("View")]),(0,r.Lk)("button",{class:"btn btn-warning"},[(0,r.Lk)("i",{class:"bi bi-pencil me-1"}),(0,r.eW)("Edit")]),(0,r.Lk)("button",{class:"btn btn-danger"},[(0,r.Lk)("i",{class:"bi bi-trash me-1"}),(0,r.eW)("Delete")])],-1))]))),128))])])}var k={props:{borrowing:{type:Array,default:()=>[]}}},f=o(1241);const w=(0,f.A)(k,[["render",p]]);var L=w;const v={class:"modal fade",tabindex:"-1",ref:"modal"},y={class:"modal-dialog modal-lg"},g={class:"modal-content",style:{"max-height":"500px"}},A={class:"modal-header"},B={class:"modal-title"},C={class:"modal-body"},I={class:"list-group"},S=["onClick"],M={class:"modal-footer"},E=["disabled"];function x(e,t,o,l,n,c){return(0,r.uX)(),(0,r.CE)("div",v,[(0,r.Lk)("div",y,[(0,r.Lk)("div",g,[(0,r.Lk)("div",A,[(0,r.Lk)("h5",B,(0,b.v_)(o.title),1),(0,r.Lk)("button",{type:"button",class:"btn-close",onClick:t[0]||(t[0]=(...e)=>c.close&&c.close(...e))})]),(0,r.Lk)("div",C,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control mb-3","onUpdate:modelValue":t[1]||(t[1]=e=>n.query=e),placeholder:"Type to search..."},null,512),[[s.Jo,n.query]]),(0,r.Lk)("ul",I,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(c.filteredData,e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id,class:(0,b.C4)(["list-group-item list-group-item-action",{active:n.selected&&n.selected.id===e.id}]),onClick:t=>c.selectItem(e)},(0,b.v_)(o.formatItem(e)),11,S))),128))])]),(0,r.Lk)("div",M,[(0,r.Lk)("button",{class:"btn btn-primary",disabled:!n.selected,onClick:t[2]||(t[2]=(...e)=>c.confirmSelection&&c.confirmSelection(...e))},"Add",8,E)])])])],512)}o(2489);var F=o(8077),_={props:{title:String,data:Array,formatItem:{type:Function,default:e=>e.code||e.ebc||"Unknown"}},data(){return{modal:null,query:"",selected:null}},computed:{filteredData(){return this.query?this.data.filter(e=>this.formatItem(e).toLowerCase().includes(this.query.toLowerCase())):this.data}},methods:{open(){this.query="",this.selected=null,this.modal=new F.aF(this.$refs.modal),this.modal.show()},close(){this.modal.hide()},selectItem(e){this.selected=e},confirmSelection(){this.$emit("selected",this.selected),this.close()}}};const T=(0,f.A)(_,[["render",x]]);var D=T,X={components:{BorrowTable:L,SearchModal:D},data(){return{borrowing:[],selectedAccession:"",selectedBorrower:"",items:[{id:1,title:"Killing the Mocking Bird",accessions:[{id:1,code:"GS000001"},{id:2,code:"GS000002"}]},{id:2,title:"E-Libra: Enhanced Library Integrated Book and Resource Automation System",accessions:[{id:3,code:"UT000001"},{id:4,code:"UT000002"}]}],borrower:[{id:1,ebc:"S10001ICT",user:{id:1,name:"Reign Balico"}},{id:2,ebc:"S10002ICT",user:{id:2,name:"John Doe"}}]}},computed:{allAccessions(){return this.items.flatMap(e=>e.accessions)}},methods:{openAccessionModal(){this.$refs.accessionModal.open()},openBorrowerModal(){this.$refs.borrowerModal.open()},setAccession(e){this.selectedAccession=e.code},setBorrower(e){this.selectedBorrower=`${e.ebc} - ${e.user.name}`},addBorrowing(){this.borrowing.push({accession:this.selectedAccession,borrower:this.selectedBorrower}),this.selectedAccession="",this.selectedBorrower=""}}};const q=(0,f.A)(X,[["render",h]]);var U=q}}]);
//# sourceMappingURL=8779.56428662.js.map